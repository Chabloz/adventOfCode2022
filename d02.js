const input = `C Y
B Y
C Y
B X
B X
B X
C Y
B Z
A Z
A Z
A Z
A Y
A X
A Z
A X
A Z
C Y
A X
A Z
A Z
A Z
A Y
C Y
B Z
B Z
C Y
C Y
C Y
C Y
A X
B Z
C X
B X
A Y
C X
C Y
C Y
B X
C X
B Z
C Y
B X
C Y
B X
B X
C Y
A X
B X
B Z
B X
A Z
B Z
B X
B Y
C Y
A X
C Y
A Z
C Y
C Z
B Z
C Y
C Y
C Y
B Y
B X
B X
A X
B Z
B X
B X
B X
B X
B Y
B X
B X
B X
B X
B Z
B X
B X
B Y
B X
C Y
C Y
B Z
A Z
A X
B X
B X
A X
B X
A X
B X
A Z
B Y
A X
A Y
C Y
A X
A X
C Y
A Z
B X
B Y
C Z
C Y
B X
B X
A Z
B X
B X
C Y
A Z
A Z
B X
C X
B Z
C Y
B X
A Y
C Y
B Z
C Y
B Z
A X
C Y
C Z
B X
B X
C X
A X
B X
B Z
B Z
B Z
A Y
B Z
B X
C Y
B Z
A Z
C Y
C Y
A Z
C Y
B X
B X
C Y
B Z
B Z
C Y
A X
C Y
C Y
B X
B Y
C Y
C Y
A Z
B Z
B X
B X
C Z
C Y
A X
B Z
B Y
C Y
C Y
B X
B Z
C X
B X
C Y
B Z
A X
B X
B Z
A X
C Y
B X
B X
C Y
A X
B X
B Y
A X
A Y
C Y
C Y
B X
A Z
A X
B Y
A X
A X
C X
C Y
B Y
A Z
C X
A X
B Z
B X
B X
C Y
A X
C X
C Y
A X
C Y
B X
B X
C Y
C Y
B X
A X
B X
A X
C Y
B Y
B Z
B X
B X
C X
C Y
B Z
C Y
C Y
B X
A Z
B Z
A Z
A Z
C Y
B X
C Y
C Y
C X
B X
C X
C Z
C Y
B Z
C Z
C Y
A Z
B X
C X
B Y
B Z
C Y
B Z
B Z
B Z
A Z
C X
A Y
B Z
A Z
B Z
B Y
A Z
C Y
C Y
B X
A X
B X
C X
B Y
C Y
B Z
B X
C Y
A X
B Z
B Y
C X
C Y
B X
A Z
A Z
C Y
B Z
B Z
B X
B X
C X
B X
B X
B X
A Z
A X
C Z
B X
A Z
B X
C X
B X
C X
B Z
B X
B X
A X
B Z
B Y
A Z
A Z
C Y
C Y
A Z
A Z
B X
A X
B Z
C X
C Y
C Y
B Z
A X
B Y
B Z
A X
C Y
B Z
A X
B X
B X
C Y
C Z
A Y
A X
C Y
A Z
C X
A Z
A Z
C X
A X
A Z
B Z
A Y
A Z
C Y
B X
B X
B Z
B X
B X
B Y
B X
B X
C Y
B X
A Z
B X
C Y
A Z
B Z
C Y
C X
C Y
B X
C Y
B Y
B X
B Z
C Y
A X
A X
C X
B X
A X
C X
B Y
B Y
A Z
C Z
C Z
A X
C Y
A Y
A Z
B Z
A Z
A X
A Y
B X
B Y
C Y
A X
B Y
C X
C Y
B Z
C Y
A X
B Z
B Z
A X
C X
B X
A X
B Z
C Y
C Y
B Y
A Y
B X
B Z
B X
C Y
B X
C Y
C X
A Z
B Z
C Y
B X
B Z
B Z
B Z
C Y
C X
C X
B X
A X
C Y
C Y
B X
B Z
C Y
A X
B X
B Z
B Z
B Y
A Y
B X
B Z
B X
A X
A Z
A Z
C X
B Y
B Z
C Z
B X
C Y
B X
C Y
B Y
B Z
B Y
B X
A Z
C X
A X
A Z
C Y
B X
C Y
C Y
B X
C Z
B Z
B Z
C X
C Y
A Y
C Y
A Y
B X
B Y
A Z
B Z
B X
B X
A X
C Y
B Z
C Y
B X
A Z
B Z
C Y
B Z
A Z
C Y
B X
B X
C Y
C Y
C Y
B X
C Z
B Z
B X
C Y
C X
B X
C Y
B Y
B Z
B Z
B Y
B Z
B Y
A Z
B X
B X
A Z
C Z
A Z
B X
C Z
A X
B X
C Y
B Z
A Z
C Y
C Y
B Z
A X
C Y
A Z
B X
B Z
B Y
B X
B Z
B X
C Y
A X
B Z
C Y
B Z
B Z
C Y
B X
B X
A Y
C Y
B Z
B Z
B X
B Z
A X
A X
C Y
B X
C Y
A Z
A X
B X
C Y
B Z
A Z
B X
A X
B X
B Y
A X
C Z
A X
B Y
B X
A Y
C Y
A Z
B X
C Y
A X
B X
C Y
A Z
B Y
A Z
B Z
B X
A X
B Y
A X
A Z
B Z
B X
B Z
C Y
C Y
C Y
B X
B Y
A Z
A Z
B X
B X
B Y
A X
A Z
C Y
A Y
B Z
A X
C X
A Z
C X
C Y
C Y
B X
B X
B Z
A X
A Z
B Y
B Z
B X
B Z
B X
C Y
B X
C Y
C Y
B X
B X
C Z
C Y
A X
A Z
C Y
C Y
A X
A Z
A X
C Y
C Y
B X
A X
C Y
B X
B X
A Z
B X
A Z
A Z
C Y
C Y
B X
C Y
B X
A X
C Y
B Z
A X
C Y
B Z
A X
A Z
C Y
C Y
B X
A X
B X
B Z
A Z
C X
B Z
A X
B Z
C Y
B X
A Z
C X
B Z
A Z
A X
C Y
B X
C Y
B X
A Z
B Z
B X
C X
B Z
B Y
C Y
B Z
B Z
B Z
B Z
C Y
C Y
A Z
C Y
C Z
C Z
C Y
C Y
B Z
A Y
B X
A Y
B Z
A Z
C Z
B X
B X
C X
A Z
C Y
A Z
B X
B X
A X
B Z
B X
C X
A Z
B Y
A X
B X
A Z
A X
B Z
C Y
B X
B X
C Y
C Y
B X
A Y
C X
B X
C X
B Y
B X
C Y
C Y
B X
A Z
A Z
A Y
B Z
B Z
B Z
C Y
A X
B X
C Y
C Y
A X
C Y
A Z
B X
A X
A Y
B Z
B Y
B Y
C X
A Z
A Z
B Z
A Z
B Z
B X
A Z
B Z
B Y
B X
B X
B X
A Y
A X
B X
B X
A X
C Y
B Z
C Y
B Y
A X
B Z
A Z
C Y
A X
C Y
B X
B Z
B Z
C Y
B Z
C Y
B X
C Y
A Z
A X
B X
C Y
A X
A X
C Y
C X
C Y
A Z
B Z
A X
C X
C X
C Y
B X
C X
A X
C Y
B Y
A X
C Y
B X
A Z
C Y
C Y
A X
A X
B X
B Y
B Y
A Y
A X
C Y
A X
C X
B X
C Y
C Y
A X
A Z
B Z
B Z
C Y
B Z
B Y
A X
C X
C X
A X
C Y
B Z
A Z
B X
C Y
C Y
C X
C Y
C X
A X
C Y
B X
C X
B X
A Z
B Z
B Z
B Z
B X
B Z
B X
B Y
C Y
C X
A Y
B Z
B Y
C Y
B Z
A X
A X
A Z
C Y
A X
C X
C Y
B Y
B X
B X
A X
B Y
C Y
B X
C X
C X
A Z
A Z
C Y
B X
B Z
C Y
B Z
B Z
C Y
C X
A X
B Z
C Y
C Y
C Y
B Z
B X
C Y
B Z
A X
B X
C Y
A Z
C Y
A Z
A Z
B Z
C Y
A Z
C Y
B X
A X
A X
B Z
C Y
B Y
B X
A Z
B X
C Y
A Z
C Y
A X
A Z
B X
B X
B Y
B X
A Z
C Y
A X
C Y
C Y
C Y
C Z
C Y
A Z
A Y
B Z
C Y
B X
C Y
C Y
A Z
C Z
C Y
B X
C Y
A Z
B Z
B Y
B Z
A Z
B X
B X
C X
B X
B Z
A X
C Y
C Y
C Y
A Z
B X
B Y
A X
A Z
C Y
A Z
A Z
B X
C Y
B Z
B Z
B X
C X
A Z
C X
B Z
C Y
A Z
B X
C Y
B X
A X
C Z
C X
C Y
A Z
C Y
B X
B X
B X
B X
B X
A Y
C Y
B X
A X
A Z
A Z
A X
C Z
B Z
C Y
B X
B Z
A X
B X
B X
C Y
B X
C Y
A Z
A Z
C X
B Z
A X
C Y
B X
C Y
C Y
C Y
B X
B Y
A Z
C Y
C Y
A X
A X
C Y
B X
B Z
C Y
A X
C Z
B Z
B X
C Y
C Y
B Z
A X
A Z
B X
C Y
A Z
A X
A Y
C Y
B X
B Z
A X
B Z
B Z
C Y
C Y
C X
B Z
A X
C Y
B Y
A Z
B X
B Y
B X
C Y
A Z
B X
A Z
C Y
B X
B X
C Y
B Y
C Y
C Y
C Y
B X
A X
C Y
C Y
C Y
A Z
C Y
B X
B X
B X
B X
A X
B Y
C X
B X
C X
A X
C X
C Y
A X
A Z
C Y
B Z
B Y
A X
B Y
C Y
C Y
B X
A X
A X
C X
B Z
C Y
C Y
A Z
B Z
B Z
C X
C Y
B X
B X
B Z
A Z
C Y
C Y
A Z
A Z
B X
B X
B Y
B Z
B Z
A Y
B Z
A Z
B Z
B X
B Z
C Z
B Z
A Z
B Z
B X
B X
B X
A X
C Y
A Z
C Y
C Y
B X
A Z
C X
B Z
B Y
C Z
B X
C Y
A X
C Y
A Y
B Z
C Y
C Y
B X
B X
A Z
C X
A X
A Z
B Y
C Y
C Y
C Y
B X
C Y
C Y
A Z
B X
A Z
C X
C Y
B Z
B Z
B Z
A Z
C Y
C Z
B Z
C Y
C Y
C Y
B X
B X
C Y
C Y
B X
A X
A Z
B X
C Y
B X
A Z
C Y
C Y
B Y
A X
A X
A X
A X
B X
B Y
C Y
A Z
B Y
B Z
A X
B X
C Y
A Y
C Y
A Z
B X
B Z
B Z
A Y
B X
B X
C Y
A Z
A Z
A X
A X
B Z
C Y
B Z
C X
A Z
C Y
B Z
C Y
C Y
B Z
A Z
C Y
C X
A Z
C Y
B X
A Y
A X
B Z
A Y
A Z
B X
C X
B Z
C Y
C Y
B Y
B Z
A X
B X
A Z
C Y
C Y
A Z
A Z
B X
C Y
B Z
A X
A X
B X
B Y
C Y
B X
C X
C Y
B Z
A Z
A Y
B X
C Y
C Y
C X
A Z
C Z
B Z
B X
A Z
A X
A X
B Z
B X
A Z
B Z
C Y
A X
B Z
B Z
C Y
C Y
A X
B X
C Y
A X
B X
C Y
B X
A Z
A X
B Z
A Z
B Z
B Y
A X
B Z
A Z
A Z
A Z
A X
A X
B X
B X
A Z
B Y
A Y
C Y
B X
C Y
B Y
C Y
A Z
A Z
B X
B X
C Y
B Z
C Y
B Z
B X
B X
B X
B X
A X
B Y
B X
C X
A Z
A Z
B X
C Y
C Y
C Y
A X
C Y
C Y
C Y
A X
C Y
C X
B X
A Y
C Z
C Y
A Z
B X
A Z
A X
B X
A X
A X
C Y
A Y
A X
B X
A Z
B Z
B Y
C Z
B X
A Z
C Y
B Z
B X
C Y
C Y
C Y
B X
A X
A Z
B X
A X
C Y
B Z
A X
C Y
C Y
A X
A X
A X
A Y
C Y
C Y
C Y
C Z
C Y
A X
B X
C Y
C Y
C Y
C Y
A X
B Z
A X
B X
C Y
B Z
A Z
C Y
A Z
C Y
B X
B X
C Y
C Y
B Y
A X
C Y
C X
C Y
C X
A Z
A Z
B Y
A X
A X
B Z
A Z
A X
A Z
C Y
A X
B Z
C X
A X
A X
B X
A X
B Y
A X
B X
B X
C Y
C X
B X
B Y
C X
A Z
B Z
B X
C Y
B Y
B Z
C Y
A X
C Y
B X
B X
C Y
C Z
B X
B X
C X
B Y
B Y
B Z
C X
B X
C Y
B X
C Y
B X
A X
A Y
B X
B X
B X
B Y
C Y
B X
B X
B X
C Y
A Z
B Z
B X
A Z
B X
B Y
C X
A Z
C Y
C Y
B Z
B X
C Y
C Y
C Y
C Y
B Z
A X
C Y
C Y
A Z
B X
B Z
A Y
C Y
B X
C Z
A Z
B Y
A Y
A Z
A Z
B X
B X
C X
A Z
B Z
A X
B Z
A Z
B X
B X
C Y
B Z
C Y
A Z
B Z
B X
A Z
C Y
B X
B Y
B Z
C Y
B X
C Y
B X
A X
A X
C Y
B X
B X
A Y
A Z
A Z
B Z
A Z
C Y
C Y
A Z
A X
A Z
B X
C Y
C X
A Z
A X
B Z
B Z
A X
B X
C X
C Y
C Y
B Z
B X
C Y
C Z
B Y
C Y
A Z
B Z
B Z
B X
B X
C Y
B X
B X
C X
A X
B Z
C Y
B Y
B X
A Z
B Z
B X
A Z
B Z
B X
A Z
B X
C Y
C X
B Y
B Y
B Z
C Y
A X
B Z
B Y
C Y
A X
B Z
B Z
C X
B X
C Y
C Y
C Y
C Y
A Z
A Z
B X
B X
C Z
B X
B Z
B X
B Z
A Z
B X
C Y
B X
C Y
C Y
A X
B X
A X
C X
B X
B Y
A X
B Z
A Z
B Y
B Z
C Y
B Z
C Y
B X
B Z
B Y
B X
B X
A Z
B Z
B X
A Z
C Y
C Y
A Z
A X
C Z
A X
B Z
B Z
C Y
B X
B X
A Y
B Z
C X
C Y
C Y
C Y
A Y
A X
B X
B Z
A Z
B X
C X
C X
C Y
C Y
C Y
B X
B X
A Z
B Z
B X
A X
A Z
C Z
B Z
B Z
B X
A X
B X
C Y
B Z
A X
B Y
B Z
B Y
B X
A X
B Z
C Y
C X
C Y
A Z
B Z
B X
B Z
B X
A Y
B X
A Z
B X
C X
A X
C Y
B X
C Y
C Y
A Y
C Z
A Z
C X
B X
C Y
A Z
B X
B Z
B Z
C Y
A X
A Z
B X
B X
B Z
B X
C Y
B X
A X
A X
C Y
A Z
C Y
B Y
B Z
B Z
C Y
B Z
C Y
B X
B X
B Y
C Y
A X
A Z
A Z
A X
C Y
B X
B Y
B Y
B X
A X
A Y
B Y
B Y
C Y
A X
B Z
C Y
A Z
C Y
B Y
A X
B X
A X
B X
A Z
C Y
C Y
A X
B Y
B Y
B X
A Z
A Z
A Z
A Y
B Z
C X
B X
C Y
C Z
B Y
C Y
C X
B X
B Z
B Z
B Z
B Z
B Y
B Z
A Z
C X
B X
C Y
C Y
B Z
C Y
C Y
A X
C X
A X
B Z
C Y
B X
C Y
A X
A Z
C Z
A X
B Z
C Y
C Y
C Y
A X
C Y
C Y
B X
B X
B Y
C Y
B Z
B X
C Y
A Z
C X
A Z
C Y
A Z
A X
B Z
B X
C Z
B X
C Y
A Z
C Y
B X
B X
B X
B Z
C Y
B X
A Z
A Z
C Y
B Y
C Y
B Z
A Z
A X
B Z
B X
B X
A Y
B X
B X
C Y
B X
B X
B Z
C Y
B X
A X
A Z
A Z
C X
A X
A X
B X
B X
B Z
A X
C Y
B X
C Y
C Y
A X
B X
A X
A Z
A Z
C Y
B X
C Y
B Y
B X
B X
C X
B X
A X
C X
B Z
C Y
B Z
B X
C Y
C Y
A Z
C Y
B Z
B X
A Z
C Y
C Y
B X
B Z
A X
B X
C Y
C Y
C Y
A X
A X
A X
B Z
B Z
A X
A X
B X
B Z
C Y
C Y
B Z
A Z
C Y
C Y
A Z
B Z
C Y
B X
B X
B X
C Y
C Y
B Z
C Y
B Z
A X
A X
B X
C Y
A X
A X
C X
A Y
C X
B X
B X
B Z
B Z
B Z
B X
B Z
C Y
C Y
C X
A Z
B X
A X
B Z
B X
A Z
C Y
B X
B Y
B Z
A Z
B X
A Y
C X
B X
C Z
C Y
B Z
A X
B Z
B Z
A X
B Z
B X
C Y
B Z
C X
C Y
A Z
C Y
A Y
B Z
B X
B Y
A Z
A Y
A X
B Y
A Z
B Z
C Y
C Y
C X
C Y
C Y
B X
B Z
A Z
B Z
B Z
A Z
C Y
A Z
C X
C Y
C Y
C Y
A X
C Y
B Z
A X
C Y
C Y
C Y
B X
B Z
B Y
C Y
C Y
C Y
C Y
B Y
A Y
B Z
B X
A X
A Y
C Y
C X
B X
B Z
A Z
B Z
B X
A X
C Z
C X
B Z
C Y
A X
C X
B Z
B X
B X
A Z
B X
B Z
B Y
C Y
B X
A X
B X
B Z
A X
B Z
A Y
C Y
A X
C X
B X
B Y
B Z
B X
B X
C Y
B X
B X
C Y
B Y
B Z
B Y
B Z
C Y
A Z
C Y
A Z
B X
B X
A Z
B X
C Y
C X
C Y
B Y
C Y
C Y
C Z
C Y
A Y
C Y
B X
B Z
A Y
B Z
A Z
B Z
B Z
B X
B Y
C Y
B X
C Y
C Z
C Y
A X
B X
B X
C Z
A Z
B X
A Z
C Y
B Z
B Z
B Y
A Z
B Z
C Y
C Y
A Z
C Y
B Y
C Y
B Z
C X
B Z
B X
A Z
B Y
B Y
B Z
A Z
B Z
C X
C X
B Z
B X
C Y
B X
A X
B X
B X
B Z
C Y
A Z
A Y
B Z
C Y
A X
A X
A Y
B X
B Z
A X
B X
C X
B X
B Y
B X
A Z
C Y
A X
C Y
A X
C Y
C Y
B Y
C Y
B X
C Y
C Y
B X
B Z
A X
C Y
C X
C X
C Y
B Y
A Z
C Y
A X
A X
B X
B X
A X
B X
C X
B Z
B X
A X
A Z
B X
C Y
C Y
A X
C X
B Z
B Z
B X
C Y
C Y
A Z
C X
B Z
C Y
B Y
A Z
B Z
A Z
B X
C X
C Z
C Y
A Z
B Z
B X
C Y
C Y
C X
C Y
C Y
C Y
A X
A Z
C Y
B X
B X
B Z
A Z
C Y
B X
A Z
C Y
C Y
B Z
A X
B Z
B Z
B X
B Z
B X
B X
B Z
B Z
C Y
A X
A X
A Z
C Y
C Y
B X
B Z
C Z
B X
C Z
C Y
C X
C Y
B Y
A X
B Z
A Z
C X
B X
C X
A Z
A Y
B Z
A X
A X
A Z
A Z
B Y
B Z
C Y
B X
C Y
B Z
B X
C Y
C Y
A X
A Z
B X
C Y
B X
B X
A X
A Z
B X
B X
B Z
A X
A X
B Z
B X
B X
B X
A Z
C X
B X
B X
B X
B Z
B X
C X
C Y
A Z
C X
A Z
C Y
A X
C Y
A X
B X
A Z
B X
C Y
C Y
A Z
A Z
B Z
B Z
B X
C X
A X
B Y
B Z
C Y
B Z
A X
A X
B X
A X
A X
A X
A X
B Z
B Y
C Y
A Z
C Z
C Y
A X
B Y
C X
A Z
B X
B Z
A X
A X
C Y
B X
B X
A X
A Z
C Y
C Y
A Z
C Y
B X
B X
A Z
A Y
C Y
A Z
A X
C Y
B Z
B Z
C Y
B X
C Y
C Y
C Y
C Z
B X
C Y
C X
B Z
A Z
C Y
A Z
B Z
A Z
B X
A X
A Z
B Z
B Z
A X
B Z
A X
B X
A Z
B X
B X
A Z
C Y
B X
B Z
C Y
B Z
B Z
B X
B Z
B X
B X
C Y
B X
B Y
B X
B X
A Z
B X
C Y
B X
B X
B X
B Z
A Z
B Y
B X
B Z
C X
C Y
B X
B Y
C Y
B X
C X
B X
C X
B Z
A Y
A Z
B Z
B Z
A X
A Z
B Z
B X
A Z
B Z
C Y
C Z
C Y
A Z
C Z
A Z
C Z
C Y
A Z
A Y
C Y`;

const rock = Symbol('rock');
const paper = Symbol('paper');
const scissors = Symbol('scissors');

const player1 = Symbol('player1');
const player2 = Symbol('player2');

const win = Symbol('win');
const draw = Symbol('draw');
const lose = Symbol('lose');

const entryToChoice = {
  'A': rock,
  'B': paper,
  'C': scissors,
  'X': rock,
  'Y': paper,
  'Z': scissors,
};

const choiceToPoints = {
  [rock]: 1,
  [paper]: 2,
  [scissors]: 3,
};

const outcomeToPoints = {
  [lose]: 0,
  [draw]: 3,
  [win]: 6,
};

const choiceWinAgainst = {
  [rock]: scissors,
  [paper]: rock,
  [scissors]: paper,
};

const choiceLoseAgainst = {
  [scissors]: rock,
  [rock]: paper,
  [paper]: scissors,
};

function parseInput(input) {
  const rounds = [];
  for (const round of input.split('\n')) {
    const entries = round.split(' ');
    rounds.push({
      [player1]: entryToChoice[entries[0]],
      [player2]: entryToChoice[entries[1]],
    })
  }
  return rounds;
}

function getScoresOfPlayer2(rounds) {
  const scores = [];
  for (const round of rounds) {
    const choice1 = round[player1];
    const choice2 = round[player2];
    const player2WinAgainst = choiceWinAgainst[choice2];
    let scoreOutcome;
    if (player2WinAgainst == choice1) {
      scoreOutcome = outcomeToPoints[win];
    } else if (choice1 == choice2) {
      scoreOutcome = outcomeToPoints[draw];
    } else {
      scoreOutcome = outcomeToPoints[lose];
    }
    let scoreChoice = choiceToPoints[choice2];
    scores.push(scoreOutcome + scoreChoice);
  }
  return scores;
}

let rounds = parseInput(input);
let scores = getScoresOfPlayer2(rounds);

//part 1
console.log(scores.reduce((s1, s2) => s1 + s2));

//part 2
entryToChoice['X'] = lose;
entryToChoice['Y'] = draw;
entryToChoice['Z'] = win;

function outcomePlayer2ToChoice(rounds) {
  const roundsChoice = [];
  for (const round of rounds) {
    const choice1 = round[player1];
    const outcome = round[player2];
    const player1WinAgainst = choiceWinAgainst[choice1];
    let choice2;
    if (outcome == lose) {
      choice2 = player1WinAgainst;
    } else if (outcome == draw) {
      choice2 = choice1;
    } else {
      choice2 = choiceLoseAgainst[choice1];
    }
    roundsChoice.push({
      [player1]: choice1,
      [player2]: choice2,
    })
  }
  return roundsChoice;
}

rounds = parseInput(input);
rounds = outcomePlayer2ToChoice(rounds);
scores = getScoresOfPlayer2(rounds);
console.log(scores.reduce((s1, s2) => s1 + s2));