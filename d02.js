const input = "C Y\nB Y\nC Y\nB X\nB X\nB X\nC Y\nB Z\nA Z\nA Z\nA Z\nA Y\nA X\nA Z\nA X\nA Z\nC Y\nA X\nA Z\nA Z\nA Z\nA Y\nC Y\nB Z\nB Z\nC Y\nC Y\nC Y\nC Y\nA X\nB Z\nC X\nB X\nA Y\nC X\nC Y\nC Y\nB X\nC X\nB Z\nC Y\nB X\nC Y\nB X\nB X\nC Y\nA X\nB X\nB Z\nB X\nA Z\nB Z\nB X\nB Y\nC Y\nA X\nC Y\nA Z\nC Y\nC Z\nB Z\nC Y\nC Y\nC Y\nB Y\nB X\nB X\nA X\nB Z\nB X\nB X\nB X\nB X\nB Y\nB X\nB X\nB X\nB X\nB Z\nB X\nB X\nB Y\nB X\nC Y\nC Y\nB Z\nA Z\nA X\nB X\nB X\nA X\nB X\nA X\nB X\nA Z\nB Y\nA X\nA Y\nC Y\nA X\nA X\nC Y\nA Z\nB X\nB Y\nC Z\nC Y\nB X\nB X\nA Z\nB X\nB X\nC Y\nA Z\nA Z\nB X\nC X\nB Z\nC Y\nB X\nA Y\nC Y\nB Z\nC Y\nB Z\nA X\nC Y\nC Z\nB X\nB X\nC X\nA X\nB X\nB Z\nB Z\nB Z\nA Y\nB Z\nB X\nC Y\nB Z\nA Z\nC Y\nC Y\nA Z\nC Y\nB X\nB X\nC Y\nB Z\nB Z\nC Y\nA X\nC Y\nC Y\nB X\nB Y\nC Y\nC Y\nA Z\nB Z\nB X\nB X\nC Z\nC Y\nA X\nB Z\nB Y\nC Y\nC Y\nB X\nB Z\nC X\nB X\nC Y\nB Z\nA X\nB X\nB Z\nA X\nC Y\nB X\nB X\nC Y\nA X\nB X\nB Y\nA X\nA Y\nC Y\nC Y\nB X\nA Z\nA X\nB Y\nA X\nA X\nC X\nC Y\nB Y\nA Z\nC X\nA X\nB Z\nB X\nB X\nC Y\nA X\nC X\nC Y\nA X\nC Y\nB X\nB X\nC Y\nC Y\nB X\nA X\nB X\nA X\nC Y\nB Y\nB Z\nB X\nB X\nC X\nC Y\nB Z\nC Y\nC Y\nB X\nA Z\nB Z\nA Z\nA Z\nC Y\nB X\nC Y\nC Y\nC X\nB X\nC X\nC Z\nC Y\nB Z\nC Z\nC Y\nA Z\nB X\nC X\nB Y\nB Z\nC Y\nB Z\nB Z\nB Z\nA Z\nC X\nA Y\nB Z\nA Z\nB Z\nB Y\nA Z\nC Y\nC Y\nB X\nA X\nB X\nC X\nB Y\nC Y\nB Z\nB X\nC Y\nA X\nB Z\nB Y\nC X\nC Y\nB X\nA Z\nA Z\nC Y\nB Z\nB Z\nB X\nB X\nC X\nB X\nB X\nB X\nA Z\nA X\nC Z\nB X\nA Z\nB X\nC X\nB X\nC X\nB Z\nB X\nB X\nA X\nB Z\nB Y\nA Z\nA Z\nC Y\nC Y\nA Z\nA Z\nB X\nA X\nB Z\nC X\nC Y\nC Y\nB Z\nA X\nB Y\nB Z\nA X\nC Y\nB Z\nA X\nB X\nB X\nC Y\nC Z\nA Y\nA X\nC Y\nA Z\nC X\nA Z\nA Z\nC X\nA X\nA Z\nB Z\nA Y\nA Z\nC Y\nB X\nB X\nB Z\nB X\nB X\nB Y\nB X\nB X\nC Y\nB X\nA Z\nB X\nC Y\nA Z\nB Z\nC Y\nC X\nC Y\nB X\nC Y\nB Y\nB X\nB Z\nC Y\nA X\nA X\nC X\nB X\nA X\nC X\nB Y\nB Y\nA Z\nC Z\nC Z\nA X\nC Y\nA Y\nA Z\nB Z\nA Z\nA X\nA Y\nB X\nB Y\nC Y\nA X\nB Y\nC X\nC Y\nB Z\nC Y\nA X\nB Z\nB Z\nA X\nC X\nB X\nA X\nB Z\nC Y\nC Y\nB Y\nA Y\nB X\nB Z\nB X\nC Y\nB X\nC Y\nC X\nA Z\nB Z\nC Y\nB X\nB Z\nB Z\nB Z\nC Y\nC X\nC X\nB X\nA X\nC Y\nC Y\nB X\nB Z\nC Y\nA X\nB X\nB Z\nB Z\nB Y\nA Y\nB X\nB Z\nB X\nA X\nA Z\nA Z\nC X\nB Y\nB Z\nC Z\nB X\nC Y\nB X\nC Y\nB Y\nB Z\nB Y\nB X\nA Z\nC X\nA X\nA Z\nC Y\nB X\nC Y\nC Y\nB X\nC Z\nB Z\nB Z\nC X\nC Y\nA Y\nC Y\nA Y\nB X\nB Y\nA Z\nB Z\nB X\nB X\nA X\nC Y\nB Z\nC Y\nB X\nA Z\nB Z\nC Y\nB Z\nA Z\nC Y\nB X\nB X\nC Y\nC Y\nC Y\nB X\nC Z\nB Z\nB X\nC Y\nC X\nB X\nC Y\nB Y\nB Z\nB Z\nB Y\nB Z\nB Y\nA Z\nB X\nB X\nA Z\nC Z\nA Z\nB X\nC Z\nA X\nB X\nC Y\nB Z\nA Z\nC Y\nC Y\nB Z\nA X\nC Y\nA Z\nB X\nB Z\nB Y\nB X\nB Z\nB X\nC Y\nA X\nB Z\nC Y\nB Z\nB Z\nC Y\nB X\nB X\nA Y\nC Y\nB Z\nB Z\nB X\nB Z\nA X\nA X\nC Y\nB X\nC Y\nA Z\nA X\nB X\nC Y\nB Z\nA Z\nB X\nA X\nB X\nB Y\nA X\nC Z\nA X\nB Y\nB X\nA Y\nC Y\nA Z\nB X\nC Y\nA X\nB X\nC Y\nA Z\nB Y\nA Z\nB Z\nB X\nA X\nB Y\nA X\nA Z\nB Z\nB X\nB Z\nC Y\nC Y\nC Y\nB X\nB Y\nA Z\nA Z\nB X\nB X\nB Y\nA X\nA Z\nC Y\nA Y\nB Z\nA X\nC X\nA Z\nC X\nC Y\nC Y\nB X\nB X\nB Z\nA X\nA Z\nB Y\nB Z\nB X\nB Z\nB X\nC Y\nB X\nC Y\nC Y\nB X\nB X\nC Z\nC Y\nA X\nA Z\nC Y\nC Y\nA X\nA Z\nA X\nC Y\nC Y\nB X\nA X\nC Y\nB X\nB X\nA Z\nB X\nA Z\nA Z\nC Y\nC Y\nB X\nC Y\nB X\nA X\nC Y\nB Z\nA X\nC Y\nB Z\nA X\nA Z\nC Y\nC Y\nB X\nA X\nB X\nB Z\nA Z\nC X\nB Z\nA X\nB Z\nC Y\nB X\nA Z\nC X\nB Z\nA Z\nA X\nC Y\nB X\nC Y\nB X\nA Z\nB Z\nB X\nC X\nB Z\nB Y\nC Y\nB Z\nB Z\nB Z\nB Z\nC Y\nC Y\nA Z\nC Y\nC Z\nC Z\nC Y\nC Y\nB Z\nA Y\nB X\nA Y\nB Z\nA Z\nC Z\nB X\nB X\nC X\nA Z\nC Y\nA Z\nB X\nB X\nA X\nB Z\nB X\nC X\nA Z\nB Y\nA X\nB X\nA Z\nA X\nB Z\nC Y\nB X\nB X\nC Y\nC Y\nB X\nA Y\nC X\nB X\nC X\nB Y\nB X\nC Y\nC Y\nB X\nA Z\nA Z\nA Y\nB Z\nB Z\nB Z\nC Y\nA X\nB X\nC Y\nC Y\nA X\nC Y\nA Z\nB X\nA X\nA Y\nB Z\nB Y\nB Y\nC X\nA Z\nA Z\nB Z\nA Z\nB Z\nB X\nA Z\nB Z\nB Y\nB X\nB X\nB X\nA Y\nA X\nB X\nB X\nA X\nC Y\nB Z\nC Y\nB Y\nA X\nB Z\nA Z\nC Y\nA X\nC Y\nB X\nB Z\nB Z\nC Y\nB Z\nC Y\nB X\nC Y\nA Z\nA X\nB X\nC Y\nA X\nA X\nC Y\nC X\nC Y\nA Z\nB Z\nA X\nC X\nC X\nC Y\nB X\nC X\nA X\nC Y\nB Y\nA X\nC Y\nB X\nA Z\nC Y\nC Y\nA X\nA X\nB X\nB Y\nB Y\nA Y\nA X\nC Y\nA X\nC X\nB X\nC Y\nC Y\nA X\nA Z\nB Z\nB Z\nC Y\nB Z\nB Y\nA X\nC X\nC X\nA X\nC Y\nB Z\nA Z\nB X\nC Y\nC Y\nC X\nC Y\nC X\nA X\nC Y\nB X\nC X\nB X\nA Z\nB Z\nB Z\nB Z\nB X\nB Z\nB X\nB Y\nC Y\nC X\nA Y\nB Z\nB Y\nC Y\nB Z\nA X\nA X\nA Z\nC Y\nA X\nC X\nC Y\nB Y\nB X\nB X\nA X\nB Y\nC Y\nB X\nC X\nC X\nA Z\nA Z\nC Y\nB X\nB Z\nC Y\nB Z\nB Z\nC Y\nC X\nA X\nB Z\nC Y\nC Y\nC Y\nB Z\nB X\nC Y\nB Z\nA X\nB X\nC Y\nA Z\nC Y\nA Z\nA Z\nB Z\nC Y\nA Z\nC Y\nB X\nA X\nA X\nB Z\nC Y\nB Y\nB X\nA Z\nB X\nC Y\nA Z\nC Y\nA X\nA Z\nB X\nB X\nB Y\nB X\nA Z\nC Y\nA X\nC Y\nC Y\nC Y\nC Z\nC Y\nA Z\nA Y\nB Z\nC Y\nB X\nC Y\nC Y\nA Z\nC Z\nC Y\nB X\nC Y\nA Z\nB Z\nB Y\nB Z\nA Z\nB X\nB X\nC X\nB X\nB Z\nA X\nC Y\nC Y\nC Y\nA Z\nB X\nB Y\nA X\nA Z\nC Y\nA Z\nA Z\nB X\nC Y\nB Z\nB Z\nB X\nC X\nA Z\nC X\nB Z\nC Y\nA Z\nB X\nC Y\nB X\nA X\nC Z\nC X\nC Y\nA Z\nC Y\nB X\nB X\nB X\nB X\nB X\nA Y\nC Y\nB X\nA X\nA Z\nA Z\nA X\nC Z\nB Z\nC Y\nB X\nB Z\nA X\nB X\nB X\nC Y\nB X\nC Y\nA Z\nA Z\nC X\nB Z\nA X\nC Y\nB X\nC Y\nC Y\nC Y\nB X\nB Y\nA Z\nC Y\nC Y\nA X\nA X\nC Y\nB X\nB Z\nC Y\nA X\nC Z\nB Z\nB X\nC Y\nC Y\nB Z\nA X\nA Z\nB X\nC Y\nA Z\nA X\nA Y\nC Y\nB X\nB Z\nA X\nB Z\nB Z\nC Y\nC Y\nC X\nB Z\nA X\nC Y\nB Y\nA Z\nB X\nB Y\nB X\nC Y\nA Z\nB X\nA Z\nC Y\nB X\nB X\nC Y\nB Y\nC Y\nC Y\nC Y\nB X\nA X\nC Y\nC Y\nC Y\nA Z\nC Y\nB X\nB X\nB X\nB X\nA X\nB Y\nC X\nB X\nC X\nA X\nC X\nC Y\nA X\nA Z\nC Y\nB Z\nB Y\nA X\nB Y\nC Y\nC Y\nB X\nA X\nA X\nC X\nB Z\nC Y\nC Y\nA Z\nB Z\nB Z\nC X\nC Y\nB X\nB X\nB Z\nA Z\nC Y\nC Y\nA Z\nA Z\nB X\nB X\nB Y\nB Z\nB Z\nA Y\nB Z\nA Z\nB Z\nB X\nB Z\nC Z\nB Z\nA Z\nB Z\nB X\nB X\nB X\nA X\nC Y\nA Z\nC Y\nC Y\nB X\nA Z\nC X\nB Z\nB Y\nC Z\nB X\nC Y\nA X\nC Y\nA Y\nB Z\nC Y\nC Y\nB X\nB X\nA Z\nC X\nA X\nA Z\nB Y\nC Y\nC Y\nC Y\nB X\nC Y\nC Y\nA Z\nB X\nA Z\nC X\nC Y\nB Z\nB Z\nB Z\nA Z\nC Y\nC Z\nB Z\nC Y\nC Y\nC Y\nB X\nB X\nC Y\nC Y\nB X\nA X\nA Z\nB X\nC Y\nB X\nA Z\nC Y\nC Y\nB Y\nA X\nA X\nA X\nA X\nB X\nB Y\nC Y\nA Z\nB Y\nB Z\nA X\nB X\nC Y\nA Y\nC Y\nA Z\nB X\nB Z\nB Z\nA Y\nB X\nB X\nC Y\nA Z\nA Z\nA X\nA X\nB Z\nC Y\nB Z\nC X\nA Z\nC Y\nB Z\nC Y\nC Y\nB Z\nA Z\nC Y\nC X\nA Z\nC Y\nB X\nA Y\nA X\nB Z\nA Y\nA Z\nB X\nC X\nB Z\nC Y\nC Y\nB Y\nB Z\nA X\nB X\nA Z\nC Y\nC Y\nA Z\nA Z\nB X\nC Y\nB Z\nA X\nA X\nB X\nB Y\nC Y\nB X\nC X\nC Y\nB Z\nA Z\nA Y\nB X\nC Y\nC Y\nC X\nA Z\nC Z\nB Z\nB X\nA Z\nA X\nA X\nB Z\nB X\nA Z\nB Z\nC Y\nA X\nB Z\nB Z\nC Y\nC Y\nA X\nB X\nC Y\nA X\nB X\nC Y\nB X\nA Z\nA X\nB Z\nA Z\nB Z\nB Y\nA X\nB Z\nA Z\nA Z\nA Z\nA X\nA X\nB X\nB X\nA Z\nB Y\nA Y\nC Y\nB X\nC Y\nB Y\nC Y\nA Z\nA Z\nB X\nB X\nC Y\nB Z\nC Y\nB Z\nB X\nB X\nB X\nB X\nA X\nB Y\nB X\nC X\nA Z\nA Z\nB X\nC Y\nC Y\nC Y\nA X\nC Y\nC Y\nC Y\nA X\nC Y\nC X\nB X\nA Y\nC Z\nC Y\nA Z\nB X\nA Z\nA X\nB X\nA X\nA X\nC Y\nA Y\nA X\nB X\nA Z\nB Z\nB Y\nC Z\nB X\nA Z\nC Y\nB Z\nB X\nC Y\nC Y\nC Y\nB X\nA X\nA Z\nB X\nA X\nC Y\nB Z\nA X\nC Y\nC Y\nA X\nA X\nA X\nA Y\nC Y\nC Y\nC Y\nC Z\nC Y\nA X\nB X\nC Y\nC Y\nC Y\nC Y\nA X\nB Z\nA X\nB X\nC Y\nB Z\nA Z\nC Y\nA Z\nC Y\nB X\nB X\nC Y\nC Y\nB Y\nA X\nC Y\nC X\nC Y\nC X\nA Z\nA Z\nB Y\nA X\nA X\nB Z\nA Z\nA X\nA Z\nC Y\nA X\nB Z\nC X\nA X\nA X\nB X\nA X\nB Y\nA X\nB X\nB X\nC Y\nC X\nB X\nB Y\nC X\nA Z\nB Z\nB X\nC Y\nB Y\nB Z\nC Y\nA X\nC Y\nB X\nB X\nC Y\nC Z\nB X\nB X\nC X\nB Y\nB Y\nB Z\nC X\nB X\nC Y\nB X\nC Y\nB X\nA X\nA Y\nB X\nB X\nB X\nB Y\nC Y\nB X\nB X\nB X\nC Y\nA Z\nB Z\nB X\nA Z\nB X\nB Y\nC X\nA Z\nC Y\nC Y\nB Z\nB X\nC Y\nC Y\nC Y\nC Y\nB Z\nA X\nC Y\nC Y\nA Z\nB X\nB Z\nA Y\nC Y\nB X\nC Z\nA Z\nB Y\nA Y\nA Z\nA Z\nB X\nB X\nC X\nA Z\nB Z\nA X\nB Z\nA Z\nB X\nB X\nC Y\nB Z\nC Y\nA Z\nB Z\nB X\nA Z\nC Y\nB X\nB Y\nB Z\nC Y\nB X\nC Y\nB X\nA X\nA X\nC Y\nB X\nB X\nA Y\nA Z\nA Z\nB Z\nA Z\nC Y\nC Y\nA Z\nA X\nA Z\nB X\nC Y\nC X\nA Z\nA X\nB Z\nB Z\nA X\nB X\nC X\nC Y\nC Y\nB Z\nB X\nC Y\nC Z\nB Y\nC Y\nA Z\nB Z\nB Z\nB X\nB X\nC Y\nB X\nB X\nC X\nA X\nB Z\nC Y\nB Y\nB X\nA Z\nB Z\nB X\nA Z\nB Z\nB X\nA Z\nB X\nC Y\nC X\nB Y\nB Y\nB Z\nC Y\nA X\nB Z\nB Y\nC Y\nA X\nB Z\nB Z\nC X\nB X\nC Y\nC Y\nC Y\nC Y\nA Z\nA Z\nB X\nB X\nC Z\nB X\nB Z\nB X\nB Z\nA Z\nB X\nC Y\nB X\nC Y\nC Y\nA X\nB X\nA X\nC X\nB X\nB Y\nA X\nB Z\nA Z\nB Y\nB Z\nC Y\nB Z\nC Y\nB X\nB Z\nB Y\nB X\nB X\nA Z\nB Z\nB X\nA Z\nC Y\nC Y\nA Z\nA X\nC Z\nA X\nB Z\nB Z\nC Y\nB X\nB X\nA Y\nB Z\nC X\nC Y\nC Y\nC Y\nA Y\nA X\nB X\nB Z\nA Z\nB X\nC X\nC X\nC Y\nC Y\nC Y\nB X\nB X\nA Z\nB Z\nB X\nA X\nA Z\nC Z\nB Z\nB Z\nB X\nA X\nB X\nC Y\nB Z\nA X\nB Y\nB Z\nB Y\nB X\nA X\nB Z\nC Y\nC X\nC Y\nA Z\nB Z\nB X\nB Z\nB X\nA Y\nB X\nA Z\nB X\nC X\nA X\nC Y\nB X\nC Y\nC Y\nA Y\nC Z\nA Z\nC X\nB X\nC Y\nA Z\nB X\nB Z\nB Z\nC Y\nA X\nA Z\nB X\nB X\nB Z\nB X\nC Y\nB X\nA X\nA X\nC Y\nA Z\nC Y\nB Y\nB Z\nB Z\nC Y\nB Z\nC Y\nB X\nB X\nB Y\nC Y\nA X\nA Z\nA Z\nA X\nC Y\nB X\nB Y\nB Y\nB X\nA X\nA Y\nB Y\nB Y\nC Y\nA X\nB Z\nC Y\nA Z\nC Y\nB Y\nA X\nB X\nA X\nB X\nA Z\nC Y\nC Y\nA X\nB Y\nB Y\nB X\nA Z\nA Z\nA Z\nA Y\nB Z\nC X\nB X\nC Y\nC Z\nB Y\nC Y\nC X\nB X\nB Z\nB Z\nB Z\nB Z\nB Y\nB Z\nA Z\nC X\nB X\nC Y\nC Y\nB Z\nC Y\nC Y\nA X\nC X\nA X\nB Z\nC Y\nB X\nC Y\nA X\nA Z\nC Z\nA X\nB Z\nC Y\nC Y\nC Y\nA X\nC Y\nC Y\nB X\nB X\nB Y\nC Y\nB Z\nB X\nC Y\nA Z\nC X\nA Z\nC Y\nA Z\nA X\nB Z\nB X\nC Z\nB X\nC Y\nA Z\nC Y\nB X\nB X\nB X\nB Z\nC Y\nB X\nA Z\nA Z\nC Y\nB Y\nC Y\nB Z\nA Z\nA X\nB Z\nB X\nB X\nA Y\nB X\nB X\nC Y\nB X\nB X\nB Z\nC Y\nB X\nA X\nA Z\nA Z\nC X\nA X\nA X\nB X\nB X\nB Z\nA X\nC Y\nB X\nC Y\nC Y\nA X\nB X\nA X\nA Z\nA Z\nC Y\nB X\nC Y\nB Y\nB X\nB X\nC X\nB X\nA X\nC X\nB Z\nC Y\nB Z\nB X\nC Y\nC Y\nA Z\nC Y\nB Z\nB X\nA Z\nC Y\nC Y\nB X\nB Z\nA X\nB X\nC Y\nC Y\nC Y\nA X\nA X\nA X\nB Z\nB Z\nA X\nA X\nB X\nB Z\nC Y\nC Y\nB Z\nA Z\nC Y\nC Y\nA Z\nB Z\nC Y\nB X\nB X\nB X\nC Y\nC Y\nB Z\nC Y\nB Z\nA X\nA X\nB X\nC Y\nA X\nA X\nC X\nA Y\nC X\nB X\nB X\nB Z\nB Z\nB Z\nB X\nB Z\nC Y\nC Y\nC X\nA Z\nB X\nA X\nB Z\nB X\nA Z\nC Y\nB X\nB Y\nB Z\nA Z\nB X\nA Y\nC X\nB X\nC Z\nC Y\nB Z\nA X\nB Z\nB Z\nA X\nB Z\nB X\nC Y\nB Z\nC X\nC Y\nA Z\nC Y\nA Y\nB Z\nB X\nB Y\nA Z\nA Y\nA X\nB Y\nA Z\nB Z\nC Y\nC Y\nC X\nC Y\nC Y\nB X\nB Z\nA Z\nB Z\nB Z\nA Z\nC Y\nA Z\nC X\nC Y\nC Y\nC Y\nA X\nC Y\nB Z\nA X\nC Y\nC Y\nC Y\nB X\nB Z\nB Y\nC Y\nC Y\nC Y\nC Y\nB Y\nA Y\nB Z\nB X\nA X\nA Y\nC Y\nC X\nB X\nB Z\nA Z\nB Z\nB X\nA X\nC Z\nC X\nB Z\nC Y\nA X\nC X\nB Z\nB X\nB X\nA Z\nB X\nB Z\nB Y\nC Y\nB X\nA X\nB X\nB Z\nA X\nB Z\nA Y\nC Y\nA X\nC X\nB X\nB Y\nB Z\nB X\nB X\nC Y\nB X\nB X\nC Y\nB Y\nB Z\nB Y\nB Z\nC Y\nA Z\nC Y\nA Z\nB X\nB X\nA Z\nB X\nC Y\nC X\nC Y\nB Y\nC Y\nC Y\nC Z\nC Y\nA Y\nC Y\nB X\nB Z\nA Y\nB Z\nA Z\nB Z\nB Z\nB X\nB Y\nC Y\nB X\nC Y\nC Z\nC Y\nA X\nB X\nB X\nC Z\nA Z\nB X\nA Z\nC Y\nB Z\nB Z\nB Y\nA Z\nB Z\nC Y\nC Y\nA Z\nC Y\nB Y\nC Y\nB Z\nC X\nB Z\nB X\nA Z\nB Y\nB Y\nB Z\nA Z\nB Z\nC X\nC X\nB Z\nB X\nC Y\nB X\nA X\nB X\nB X\nB Z\nC Y\nA Z\nA Y\nB Z\nC Y\nA X\nA X\nA Y\nB X\nB Z\nA X\nB X\nC X\nB X\nB Y\nB X\nA Z\nC Y\nA X\nC Y\nA X\nC Y\nC Y\nB Y\nC Y\nB X\nC Y\nC Y\nB X\nB Z\nA X\nC Y\nC X\nC X\nC Y\nB Y\nA Z\nC Y\nA X\nA X\nB X\nB X\nA X\nB X\nC X\nB Z\nB X\nA X\nA Z\nB X\nC Y\nC Y\nA X\nC X\nB Z\nB Z\nB X\nC Y\nC Y\nA Z\nC X\nB Z\nC Y\nB Y\nA Z\nB Z\nA Z\nB X\nC X\nC Z\nC Y\nA Z\nB Z\nB X\nC Y\nC Y\nC X\nC Y\nC Y\nC Y\nA X\nA Z\nC Y\nB X\nB X\nB Z\nA Z\nC Y\nB X\nA Z\nC Y\nC Y\nB Z\nA X\nB Z\nB Z\nB X\nB Z\nB X\nB X\nB Z\nB Z\nC Y\nA X\nA X\nA Z\nC Y\nC Y\nB X\nB Z\nC Z\nB X\nC Z\nC Y\nC X\nC Y\nB Y\nA X\nB Z\nA Z\nC X\nB X\nC X\nA Z\nA Y\nB Z\nA X\nA X\nA Z\nA Z\nB Y\nB Z\nC Y\nB X\nC Y\nB Z\nB X\nC Y\nC Y\nA X\nA Z\nB X\nC Y\nB X\nB X\nA X\nA Z\nB X\nB X\nB Z\nA X\nA X\nB Z\nB X\nB X\nB X\nA Z\nC X\nB X\nB X\nB X\nB Z\nB X\nC X\nC Y\nA Z\nC X\nA Z\nC Y\nA X\nC Y\nA X\nB X\nA Z\nB X\nC Y\nC Y\nA Z\nA Z\nB Z\nB Z\nB X\nC X\nA X\nB Y\nB Z\nC Y\nB Z\nA X\nA X\nB X\nA X\nA X\nA X\nA X\nB Z\nB Y\nC Y\nA Z\nC Z\nC Y\nA X\nB Y\nC X\nA Z\nB X\nB Z\nA X\nA X\nC Y\nB X\nB X\nA X\nA Z\nC Y\nC Y\nA Z\nC Y\nB X\nB X\nA Z\nA Y\nC Y\nA Z\nA X\nC Y\nB Z\nB Z\nC Y\nB X\nC Y\nC Y\nC Y\nC Z\nB X\nC Y\nC X\nB Z\nA Z\nC Y\nA Z\nB Z\nA Z\nB X\nA X\nA Z\nB Z\nB Z\nA X\nB Z\nA X\nB X\nA Z\nB X\nB X\nA Z\nC Y\nB X\nB Z\nC Y\nB Z\nB Z\nB X\nB Z\nB X\nB X\nC Y\nB X\nB Y\nB X\nB X\nA Z\nB X\nC Y\nB X\nB X\nB X\nB Z\nA Z\nB Y\nB X\nB Z\nC X\nC Y\nB X\nB Y\nC Y\nB X\nC X\nB X\nC X\nB Z\nA Y\nA Z\nB Z\nB Z\nA X\nA Z\nB Z\nB X\nA Z\nB Z\nC Y\nC Z\nC Y\nA Z\nC Z\nA Z\nC Z\nC Y\nA Z\nA Y\nC Y";

const rock = Symbol('rock');
const paper = Symbol('paper');
const scissors = Symbol('scissors');

const player1 = Symbol('player1');
const player2 = Symbol('player2');

const win = Symbol('win');
const draw = Symbol('draw');
const lose = Symbol('lose');

const entryToChoice = {
  'A': rock,
  'B': paper,
  'C': scissors,
  'X': rock,
  'Y': paper,
  'Z': scissors,
};

const choiceToPoints = {
  [rock]: 1,
  [paper]: 2,
  [scissors]: 3,
};

const outcomeToPoints = {
  [lose]: 0,
  [draw]: 3,
  [win]: 6,
};

const choiceWinAgainst = {
  [rock]: scissors,
  [paper]: rock,
  [scissors]: paper,
};

const choiceLoseAgainst = {
  [scissors]: rock,
  [rock]: paper,
  [paper]: scissors,
};

function parseInput(input) {
  const rounds = [];
  for (const round of input.split('\n')) {
    const entries = round.split(' ');
    rounds.push({
      [player1]: entryToChoice[entries[0]],
      [player2]: entryToChoice[entries[1]],
    })
  }
  return rounds;
}

function getScoresOfPlayer2(rounds) {
  const scores = [];
  for (const round of rounds) {
    const choice1 = round[player1];
    const choice2 = round[player2];
    const player2WinAgainst = choiceWinAgainst[choice2];
    let scoreOutcome;
    if (player2WinAgainst == choice1) {
      scoreOutcome = outcomeToPoints[win];
    } else if (choice1 == choice2) {
      scoreOutcome = outcomeToPoints[draw];
    } else {
      scoreOutcome = outcomeToPoints[lose];
    }
    const scoreChoice = choiceToPoints[choice2];
    scores.push(scoreOutcome + scoreChoice);
  }
  return scores;
}

let rounds = parseInput(input);
let scores = getScoresOfPlayer2(rounds);

//part 1
console.log(scores.reduce((s1, s2) => s1 + s2));

//part 2
entryToChoice['X'] = lose;
entryToChoice['Y'] = draw;
entryToChoice['Z'] = win;

function outcomePlayer2ToChoice(rounds) {
  const roundsChoice = [];
  for (const round of rounds) {
    const choice1 = round[player1];
    const outcome = round[player2];
    const player1WinAgainst = choiceWinAgainst[choice1];
    let choice2;
    if (outcome == lose) {
      choice2 = player1WinAgainst;
    } else if (outcome == draw) {
      choice2 = choice1;
    } else {
      choice2 = choiceLoseAgainst[choice1];
    }
    roundsChoice.push({
      [player1]: choice1,
      [player2]: choice2,
    })
  }
  return roundsChoice;
}

rounds = parseInput(input);
rounds = outcomePlayer2ToChoice(rounds);
scores = getScoresOfPlayer2(rounds);
console.log(scores.reduce((s1, s2) => s1 + s2));
