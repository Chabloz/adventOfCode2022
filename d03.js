const input = `LdHVLDLDdHdtLMhcqCqGWcWg\nZZQZSZnnJrQrJQJbfzfnWGWPWMcChMMPcqMnhFcF\nZrzpWzfbpQpWbzvZWZpdtVtDNmRHNVptNDHt\ngzCjffWZCtCfZZVdqVSqJdvJndSt\nhMHLcmGLMLhHmsRMsSvsQSqrsrlJTTdV\nNPNGRGHGHNLczNzzZFWSFFCC\nVSBpcvNNbNWWSfGRwtJnRtrzzGzGGn\njZlhTlQLHFLLZbwrzQQsttDtbs\nhmmPFlhLmhLMgFMFLbMBBgcNVcfNCcfSVSSNBq\njRDSzjCjjMRMrHzMRCDHMDjBnlQbbnQwLwrNLPwnTPQrlc\nsZBqdZqsWgFBpgppGJqllPllwnbQwTwsswQPwN\ngJgtJJBtqJqWBGzjRCHDDzRmDtVV\nGRBWbbWnGNhbwSsfPfmrlslWsS\nHLVCgCLpMgcLVDcDCgmlvstSlsstPtSSSlscvl\nLzQDQzMMzJzFQVDJgCzJHJZRZBNbqGFhNFwBGhbhBhBm\nJNsHhdPZSdZJjSHzzNwvwGgBFmBmvptJbFvm\nWrDrwqqqQWVMCvMvGbGbbFFbFp\nrqqLncqnlCncwQWCwWlLfSZPsZddfzzNNdhdPlZz\nrwfrwHqSdRcgwdZrDcrqDDdgNzjNjPzPJNJPtbNPbGsHNGHv\nhllLMTLLQMCzJssPsTvtFG\nQtQnpWVVMVWnVQpRZSSwZDggrcSq\nFDlqPMBdmbqMrdDqqFdFDwjHZChHHZfZWZNBsZjhfhHf\nVQJVgncpTQRJfsssGhsNWC\nNtpLLSpcLVRzzRRtpgVcLgglMwwlPlzdmDlFmFPDmqqwlF\nPqwwSqNWPqwSWqjNBwpTPpffhJfZfstRtZJRRdJsdR\nVFLFzQVgVnDVjhdJHsvhZjfg\nVVFVDDnmnzLFCzVmznFzrFlrjSCPNMBCSGSGwwwGBjPNWPwC\nzzbCGrfgbzfzCtvqdjSrvSjnvS\ncNVTLnJZRNNmQmhJNptvBlBtVjlljqqldtlB\nZhpcJHLQhRcLZLmNQJzfFwDzzgHPFngDPPnP\nttntdMMBZzbZZtjPfwjwTwBvvVmh\nllSllRRNsGCrCDTPfgVgTfgvsjPH\nCFclcCWGrJNDSnnWMbQTnWtLQd\nbccfdSfwFsswcbbdJFGQVGnCJLnBLnDnQLDj\nThvHZNhZmqNWMNqvDVjcjjBQVhQBBVLB\nvWMZZNRmNMWqtWqmqHclfFgdlwRwrzzSfwbFRd\nWNzRWWZNmtNZnssNRPtCJFQJCffVJVffCvlF\ncBqBLgHHBcgqBbCJjrvrVQJfsHlr\nDhDShwchBSbdwBsqgGcbgTTRmzdNWmMRMmTdNpTMmW\nFHWZDbbPZDFHgGGPdPbJNLpJSlNjcjSphcJjFN\nZCCrBBRwwCjcNwcljppN\nCmTTsrMfBCRsTMnnCRTmVZbgdbdGfWHPDVvdbbPV\ncgSNBScMgjBBPtBCNLVvVVvhhJJhvsMhVfWq\nTFlDrHPZHTTFmwTQHZDZTrqvvzqlJppVJvpffhqqVfJp\nDbPwrTZDQDRQQwQZrDrbbQwRRnNSBtCjtcNGjSgSLjLccC\npdcVCpdZnZgcZgdcDWBDNcNwvBWJwc\nRRmHspRmmQfLwwJJbFBFFJNR\nrGlpfrQrqGhGqdGP\nTHhNsHhdFjcDthDcjDhLBqWcLLQQJvvBbvBJbl\nGfrCSZGCzfVMrVCCzGVfSMQBBFlJlJBFFZqvWBqbbQWl\nrSrFwCwzMMzRfGrGMwPfGCVdgHDttthNPssHjmNNdDjgdD\nshmhggDsZCZWBDmsQTcTqrLPTbNbwQQrrN\nlzpFVfdjfFFGnVVHpjJGJVlprNMPNtPctTNwLtcTbwctwTnN\njVFfzVlFSpzpFCshWmgSRgmBRb\nzZGFNPmdPdszdWddGWZlpLMLpbQbLDpblzQbtv\nwTwgwSSCHhhCSghJbpcpDglbbQbMVMpV\nBHnBRrJCHmRNfGDmfm\nCffgvfCRGngRrvGvgdnRVpPQQPSqbVZZDPDVPzFSSQ\ncMlWJTMlcTLTLtHHJlpqDLwqSzSSDDqDZDDS\ntmHTtlMmWpmsMJsCRdCNsrRGfrnffN\nlNrzNHNwzZlHmwNBpMqqnqGDZSpMTGnb\nddjgFjjsRvGvQhQvvFjqbVTFpbVpFDJSbJVpTS\ncjsQhsjvRvGcgNtzczmtmwCCcr\nNJMJvBmBJPtMtRDnDDwDMFFWDWHG\nhZsrzshpSdjZZqSSfgpDwnwFnGCCLHDbjnGCWG\nzfgSpScsrdpmllttGvJGcm\nGLsnLVLZGZmcGVpgZLmTjTsDDTlDTHPPHWlHwD\ndNJhCCdtNJSvdDzwPlvTlQ\nBCbBrPPfRMfMJSffrMCMChrSqVcmLLFpqLFFcggLVnqgmbgc\nhMdjMndZLRnRnjclszLclQlzGwcr\nFPCCSCSpCwStJVGzsPQGslGzPbsQ\nTSSJTtfTFTwtmTFFVFDTWRvdgndjjRhnjnvHjdfR\nZwgsnsWsWvWQHqJhGhJVCJHhCJ\ncdjlMWRRMhJLCpLL\njjSRmRmNRNWBmdmcWjlDWFPswsPtnZQsnBsnZvvTTnvT\nvvbjLTPbQzrQQjpLzLbflfjfRDDsDlRfgDnnVD\nZGCtHHFGzFHhMlCnDqwlgggsqf\nFJHMhHZGmNHtJhMhBJZZtZdrbSbSzbmWLLQrQTbPdbrS\nZClGVCvLZzCLBVbdGGzVVBvVrqQMDWMHrgmgQLWrWmTgqqHH\ntNpNspcQPfHmqfgHmHHg\nnNttnwPRjFtPcccsFptPlllQGlQZbvGzVVVFzhCd\nlflmVWpDVsMmmVPlHVbbGSSbGnSHJcncnLZn\nNvTFzNwzTQvhFGSZnvgrbgJCgr\njtRwTQFzjBNGGQQBdDsDqqlsVqRflMlPsP\nrCSJPCrBwwMdBJRCrwMTGWTWNbcjGZNGGZTb\nqzgqfgFghsHzfgHgmmfWGNGGWcNNFClbWlcCNW\nDqsnzsHLhddBDwCRJR\nsZpHjZrVQmcrbhbthzhFHzhH\nQDPMDMndqqQGqQfCDDbhFtzzLtbWzlBLLPBW\nTDMDqfGnJSnfnfvgjsjNgJvsjVQv\nbDZQbZHdQQggZfttJjGnplSnldsG\nFTrFCvWBWzTNSPNvRBGJsGjpsJjstmCLtjCt\nrhBvzRVRBBSVHDHcHMHq\nFSbSNZbZbzGzGGbNzGgcZPwlDPvlNmLLLwLLlLvvvl\npqnqpVCrpshqmChsQnnRpRCldDHvDHLjDlvPwddlwPtwDV\nrRTCnnpCWCChTrWsrBTfbcFFmFSSmfBBGg\nQdhdWDsHhHWzPrLPSCPGvs\ngpZZmNmtjZwpBZBZgSnvFcGPrrvmncnvmC\nRVVRjZJfJVfVBZVtBNBVppZVDqMHhqTbMGlWHQhhWldRMHWd\nBPWQrRRNNMhrHhLqqGgjDJjH\nTzVmmpmtCNwscTzszcNzDCfCHJqDfGjDJJgfGCDq\nwdwmspTsVdlTcpbmVMPWBbBWRPNnFnBWMr\nVZTnVnsgrjjsqPzPwWgWPghz\nmcFdQGPMBdMSBdWbhRzzWqwLwcWt\nGQPBvpfvNvFPBvTnfjnZDHDDjsrr\nCZssCNFJBmBNFmFBNwBFCJFTtthGrrSThtSgSRtSfRTGtRrg\nLDpDbnjjDGpggGrvGg\nPLMWnWQgbQWnWbnbjqDbszHwwzwmNsFZMBmwJFZF\nhQSjFLhFLLMSSFgdWTMdGgNbNbWv\nJmPlltJBJqmzpbrrwTwrvvGqww\nHBzztRBRplzlmHmRmmsplRJZcfFcLFfHSLjSZTcfVVcLVH\nnBSQMnVQqJBGnfVfDgCrjbVbtC\nFNcPPHdTdhmBdHBvwlZjbClClfcZgjclgj\nvFdHWhTLHvnBRRqBsWSR\nTRsNNTTHRRZRRsRzJQddSpJLcQdpjs\nDMVPVVGmMGWMGtMgGtDlmMWwLLLpJfSfpjzpdQddLSmSSJdc\ntVMgGMDwMgMWDBWMttjRBZNnvNCNZrZZRbZNvZ\nwlJPVMJPPBShSlhgfTvgNNzzgNMCTg\nFLtRnDDSrvdNdrng\nFcSmpFZFFmmjWqPWJbmhGqqm\nhlBqqTlSfvNhpbfb\nfRVsVDDRtnRVfbDNCCNCNQGwNZ\nnrrRPPnHzntRrPsRVrtJVBMjlzWfFWdMjjWMqdBBlT\nzDNcnRsNNfRFFNNzRzLbRWgMZMMZcdhcBdMrBpZmmZ\nPVHHVlPDGPPtjDmmdrrGBBMpWGWd\nVVqTTlQtDCqFNzsnbLbCSJ\nndSGSZZGwSZTBdwnwdwmWCzPQCQLffZzRgMZRggMzf\nmvqVmqrmcDqllNNtbcNcMCQMRCMCCMQfHLgvRgMg\nFhNNcrrVljFcqmTJhwnsmGdJsT\nwlmLmZLwzvVmVWVmQWzZSFJFDSqFHSSFJHhDqZ\nRsgpMNcMdRgjDcRFqCSrHSHBCFJr\njdncssDNPsbmmwvvlPLw\nwQGHMrHGgwgVTQrrMGgGQrTtWzzPJhsfhZztWssQWbZCWh\nFjvBFSqqDbljFvSbnvFltszfWPPfWzJZBCsPtJft\nqLlDbpjFRbpdGTgLGLGTTV\nhrVJsBrpwbsMZtTLlwnqtqdc\nQDDmHWmffHCQWHjRQjCWczTTjtlzdldqVtTnTqLt\nHmfGfRNWfNWmQCRsgbsMFMhMGvpBVs\nCRzzVCZhvGQqNmcWrgpgwQFSmF\nBJsttjDtjbdLMHHsBTqBbBHMrprDSrFnFnSgrnnrpDSmWWnw\nTbMBMPPdLTbHTjHMtPzZGvzlvqCPGNlNVRVP\nQcmcrCVcdTCGRRLT\nzzgWFWVBTSWLPdMP\nJbhnBVzzfVhgztVDvqcqHwncZHNqnsnccQ\nJJVBFfJjNNNsJTwVfZJNffFRpRzRzRptRWtCtSSHWsWzCD\nrmrnhgclhQGcGnhrPjqgGMHbWRHRbRCWbzRbMSSpHWCD\nmhhjQGGjQgggqnmQnmghdQdJFZBNvZBBLNTvvTNNTLfZ\nDrBgwMCMRvMrvDgPCzdpdNtzqqlHNNtp\njWSSZGgfGjcLfdNjFzqqFFzzFF\nnGZhTmZLLZhGPVVTgQgMRrrb\nppqZvppdJmSLHdSfZRrrtbscgRVVgwVrHt\nhFFFzQPhNWzNhnhGVggrcbwVgBnvbwgR\nCNQWFMzWWhCflpjvZJMJdj\npfpfmQMWmcBVfMBBmpfVQMbDGGNPDTcSNTTsSNPCCNhC\nZZrZwvvzZrvZlZlwhwswhNSsgbDssC\nttvdtzRzFDqRJWLVLWJJpQ\nCZZPTQPTPTJhTQTrHCBbvtLbbbRWtjbDvb\ncGfsVSVcLdSgSwBWRNNGwRNRbD\nspSffnccsgcdnnJJQlZZqJLhpMJh\nTwGGdWwdddtTsbzPzbbnTLnPLP\ngqNSMvtvcSDLLfnMnnPzFM\nNvDNDqtvRcjQVGZZGZZhwpQB\njtgFmnqjqttQpsphzNllblzlNH\nGRMRDMGCVCHzSCbSbNNl\nLMTJRTGRLBJBwLRRHmBFQPvqmPBvtgtc\njDjjwRDpPqqsMsDLJbJzVB\nlMNMNddvMltNfFVWbVVWJrrVLfgL\nNQQtmtFGFlGZPZcMmmcjjn\nCgCNjvSCgSQQzVZNWVnTBPTcsTVBnpPs\nbFbbLfbfdRBFhLwqFmblBJfRHtWcttcttlDpspcPWDcDptPn\nmdbFhfJrmJwfbmmFFFvBZCNCzMGrNjMQjCCZ\nTPDNHHSTNNmRfTrRMZSqwwttdbBvBMth\nVVnnFGgnQcBvMqvnhNBN\nGLzjjzGscssJGJCHljmfmTWPTCDN\nBZZNcMQjBNjNtDJgstjgtwqGRQfhGhSvPfThfqvPhfhf\nCCndrnmnnWbrnHrFbWbpbbVmGGPqLfTGhvGSPhqRLRdfSGsf\nbFssVbbblFHzrmFlMNMtcNgDtJDzZgtw\nsmjMtSqQQSjtSfmDVVFHFhnHBHmbNPPH\nTgvCCJcZdwdgNvbHvPbbvBNq\nJLqRWTgLqJLCJcclgCJdWjfsSSpsfRrsQjDtspptQQ\nhNwztzgzJnnNTVFwNTNhwVhZlrpLMLZZlpZlQndLPLpQLZ\nvRDvqSSqjbqSWDvjbvBdLWspPLddZPQQLMllLp\nSfGfRmSGCSfBfjTcNFgzwMFJzwgm\nlhVBhZjjPHbThwFGrNrdvNNwFV\nDRrDLfMLSgpCdCJcfmcJCm\nLQtnprtqSRtZjHzTthlb\nGrGsqfbtsWGWWntnrrwWWWGSSDSMDcSSSwTDzPzJSJzPcT\nlmQhhVCgmffCNgmNNmCmBNRRPvDzDMhJvSSDJzzcTzvvPvMT\nVBllNBpfQgQmpLBpRBtnqWLFFnZZWWGrZrjq\nNRJdngMVwfgnwJtvlblcWLlLDHfccDbW\nPFJzBmhmjPFpJrFqLcQHLlHGDlHDQbGz\nShJZJmPFpwdMvCCZRd\nWQDqSVWqpBCsPqPWWNscfrHfhrhrHhGFGs\nMmLRmLTjmTzTzlhGHfprhvfFhHfT\nmLZLRdgMRjtdddmdgwmtMwQSCPbnDSSCqBDwpWPQqn\nrNHwMMGDrggWwsvWMPMWWwjbCqjCBlZqvfjBqCJhfffj\nFbtFmRTpzBBZqCClpJ\nztbzFtnzVNnNNPPDGD\nPLPFcwdLdFcbgdfSwFtWhGWGRMWMJMGCblJR\nqTpszVVjRlCHtWCT\nqzvrDqQrqznzggFZwFwQScdW\nLWLjLNjNjTwlwLZVcBVcVVZcBVQcZZ\nJhGhFdmBRdGGDnQtbPvVVdnccS\nzDrrFGFFRgRHmDNWTpjTBNTHWNjW\nfwfBVLhmwfhHsgBstWCWQnDQnlldWW\nhZvFTNJrZjZbFvNvttqWWDtcWqCtFDWn\nrbjjrjpRzRzgBLzwLgmzLh\nZqqqWVzdSPnwBJBfwJfZTs\nFHGgjRLMJFsJTsBw\nDHRcDgHvLhDWPSCzwqnq\nLZGZLLRLZpRQBtPTjTffrHljjmsB\nwNVVwcCgNCCScwggmjHjTPmQPsTHmlSs\ngbbwbqhNCQcbqqVchWhtRZDJWJDtZLWL\nCmTmvvmvzCCCgzzVQmTQvTjjGRGShwSHwRrRSSSSDNHSFN\nPqZqWdqlplsqBJMMsMMnGRJRbbNwNhrrhShGShFD\nfBWBWdZppqpqDMBdlfcTCTLtLtLCQfQvcmgv\npntdtdHHWHqnptGpqHqNgMQwPPPnZMZZZZcfgc\nLFmLSVBRTSBBRrffTQgMfQMtJZQT\nbmRCSSSjRCtSrRChjqqGqpppGhqDGp\ndGGhhfNfgRTGLcpL\nBmCCwQMQqmQrBCBJLpbVTFbHcgcbLTMc\nJrpqJJmqqqqmzqqwmwNlzfvltDPltfshlhNN\nVCCbMJfJlgRCnNGVNnvFvVBF\nSTsgcZdghZsqSttBnsGnBtBtHt\nqDcjgDphjhSghZTQgCJWQWWfwfRzWlwJzJ\nJHMVMvmvRcdbmrRHQBBGjcjfFQfChSfj\nNltNtZllgZtgtnpnqNWpgCrCBQzBGzFhQrGSSBCzWh\npDrwnqLlvDVmPbss\ndbrpbSrwBjswsSjCwqllLqFtqLcrGqqFtF\nRvfJDQnRpHvvQfRvvQRJFDqzcWltFFlzcLttWltW\nZpnRVZHmvHnTnPZZPHfHmVwdjVghwgVSBgdBBCwgdC\nWRCBGWvNgHnMcFwnpC\nltlstrjlJNlfrZZqDJtNLsHnmwwpcHphhFPMFjwhmnFp\nTStJssLstJLtqTsNgvvSBNzzvWvGRz\nVBjdWdGcqWdBVCFRmHwfCRRV\nDLzNpqbDzDNbrJvltMLJLRRmtRFTSRmTmFwfRHRTFf\nzvvJNLgNqGcnjgnP\nJjdnFfbdbdQMbQzjtRcwcCvbvBqRBCwt\nLlNHlWGprPCVVBsVzqNR\nhLmgTlrpPPHrLprHrTTGggHWzhZFSJDfhMdnjjZfFfdFMjFz\nbDbwRpCSRgqqMfMf\nHzzPcPnhzlhsQzHhHnTggBBqTQTgVQqBqjZW\ntnsrFccnzsDvGpNGqNtq\nGmPsPrsSlswNmcLzMvnpnmMpLBCf\nglDTZRDqRTjRCvjvfBpfCzvp\nDHlJVhJRDTbqZDqSNVrNwtVrQwSSGs\nnNnDwqDwFVgDwDnCgLnLpCVWdBMRpsPdMPPjRHRHHRdBWj\ntQtfTtJtJmlTQrTtTlhfzrmdHzMMRMsBPPddjddBPPdWsB\nbbhtQTfTTsmmbStnqGFGNDbFDgFVnw\ndsVpDPBMHVdHpplpvdHjRjmmjRTMTFFrrTTFQq\nLzzWZLGCzCWNjfmRfBhmQjZq\nzSSSwJwSBzNtzLBbwbSGLzWVvcvpHdssDllVJgVHVcdDPv\nRWfQBDTBLQWpDLNRZjZwHHddjHNhZdtv\nScCCzSszFzJccPHHvmjHvjhpmHsj\nFPclgFVCbcngVgnpWQqqRfLBDBrR\ncRLLVwcsctwmbVcszztwtRMvNrCpTggqFrTvvhCVpghBqh\nPdSDGdnZQfGDfDjWjWWgvCqFhpqvpNZgCTTvrp\ndGnDHWnSQdJPDSFLLcJmRzzLLLRRcl\nlCSqlcCcBqBCCwGwnNWnnFwBHF\nWMZLMPbPhQddRbMpbbLbRLLHDFgjFGDmFNZgNnDGNHGGjD\ndTVPPQbPbMdQMzvVrWvczrCJqv\nvzscdHcHZzHzCCHlQTTTCcslMGPStmSlpDDSSSgSPDNBmNtl\nFWVMFhFMMqWhFVFbDBDDhpmpGtPSDpGG\nfRLbFfwWWLnVjMdzzQHQJnnvQs\nSmPdRbWZdSqqzSPmbdWFFQgcQnvncgQGQMMT\nBfBLmVNjprVVNlVBrpBlHpNrgQFHGCGgvTQTMGFFgMCvgQcQ\nBjjJfVLBfNffJbZDqtDsdzzm\nNLgtLsSggjqgqpLLDjsjmcJfvpmFmmJmvPpwhBJB\nlMnlZMtdCMrRRnRbTddWbVwcmPfFmhJwPfwJmvfwFvPl\nMnRrnGWRbgQqtNGDjt\ndSdrTbTtLJCcttcFVw\nPhsgQQGPZshvpQZGgsrBllVFlHVpFllJJrFH\ngqsGPgMZhgvQbzrzTfSzMTLf\npqbDdQWqCgBfbbfFfB\nvtjnmzLcmhBdzTFgTsRP\nLZGmjvJGGctnLtvcchSjmhcLqNHCwVdQZwDwWDNpCwqHdDwQ\nwlMWSSHWShSMbDSwVhCrNjJmcrDmGRRCGCjN\nFHZdHftFFQnqsQqsQttjvGrJccmdGGcrNdRNmG\npHpzPpQHpsPzPlzlbSgSSMLwzh\nfCQDLlDQTSjbHDqH\nZhrsrZZZhcclwNswGGwbwF\nrcWhlhlpMJpMZmgtBCzCttCCRfdp\nzLnCMLNTvtGNpNvNjhRHgZhHvZdZHdjD\nfSsWWqScTfJJqfJFFJwswhdHhhhdhDdjbjZbhhDj\nWsWmfcqBWfTfsrntrLmplCLttm\nljssbqMMPbHPlsbcWZNLLsWJWRFvvZfW\nSzgggDDwTzrQmDQgdSSWvdJLFGffRvZG\nzCzCDCrznnTTmCbbpvlPHtCPtb\nTZSwNPpcgpNPbwbhhbwrwJqh\nBlCDtvvgLWGCLffGfLzLrMqnnbDDHbmnnnJrhnVJ\nlzBjdCjCGCjfGjjLGBGGjlCSsRppcdpRNdRSPQcRPQZTgT\nTsFTrvGmZGfvZfZFzNNZrhClmRcBgCMwQwQPCPMPRP\nbpnnVVJtSDgRBwbQRwlR\njpSnqLpqDJDJLDjWDWLWvvzfZZvqvNsGTHGGFfZl\nbzbzznqfCpzvhCSMfbCbpCFhtHGHHJdtHJGhFsmshJJG\nDLWRLjRrmNPQjZZlQPsFGFggVcWcFddggdsg\nrjrZPwwDRlLLBjQlRRlPDpmbqzpqnnCSCfTMwMqSvC\nFmcGcjLRPjQwQjMQrwHQ\nbtJzJbVNdBJJtzTdGBbdBztGrQhhQWhMwHrhrHSHgHQfhMVS\nJJDpdDTtCtzNptnTJBznnvLCCvcFqsRqFcvZclLGRR`;

function getCompartments(rucksacks) {
  const compartments = [];
  for (const rucksack of rucksacks) {
    const middle = rucksack.length/2;
    const compartment1 = rucksack.slice(0, middle);
    const compartment2 = rucksack.slice(-middle);
    compartments.push({compartment1, compartment2});
  }
  return compartments;
}

// return null if no duplicates found
function findFirstDuplicate(str1, str2) {
  const inStr1 = new Set(str1);
  for (const item of str2) {
    if (inStr1.has(item)) return item;
  }
  return null;
}

function getDuplicates(compartments) {
  const duplicates = [];
  for (const {compartment1, compartment2} of compartments) {
    const dup = findFirstDuplicate(compartment1, compartment2);
    duplicates.push(dup);
  }
  return duplicates;
}

function getItemPriority(letter) {
  const sub = letter > 'Z' ? 96 : 38;
  return letter.charCodeAt(0) - sub;
}

const rucksacks = input.split('\n');
const compartments = getCompartments(rucksacks);
const duplicates = getDuplicates(compartments);
const priorities = duplicates.map(getItemPriority);

// part 1
console.log(priorities.reduce((p1, p2) => p1 + p2));

// part 2
// Same as part 1 but more versatile (works for any number of strings)
// return null if no duplicates found
function findFirstDuplicateStr(str, ...otherStr) {
  if (otherStr.length == 0) return null;
  const itemsSets = otherStr.map(str => new Set(str));
  for (const item of str) {
    if (itemsSets.every(set => set.has(item))) return item;
  }
  return null;
}

let sum = 0;
for (let i = 0; i < rucksacks.length; i += 3) {
  const dup = findFirstDuplicateStr(rucksacks[i], rucksacks[i+1], rucksacks[i+2]);
  sum += getItemPriority(dup);
}
console.log(sum);