const input = "22243\n11899\n\n1696\n2595\n5331\n6092\n5274\n5641\n1345\n6626\n2005\n6260\n6410\n2092\n3501\n\n3982\n4505\n5836\n6059\n6513\n1151\n\n7002\n6597\n7174\n3618\n4734\n5107\n1388\n6493\n6541\n6440\n5291\n4492\n\n1341\n6520\n8531\n3483\n9221\n2847\n3930\n4012\n\n4074\n2101\n2200\n1333\n2991\n3186\n6711\n2248\n6655\n\n5102\n2672\n2842\n2274\n6828\n3765\n5290\n6004\n7237\n1509\n3128\n1593\n\n8404\n7548\n4075\n8246\n5590\n2107\n1204\n6374\n1865\n5657\n\n62852\n\n10643\n5981\n9631\n1574\n2962\n1021\n9811\n1566\n\n2027\n1193\n1487\n4493\n6215\n3315\n1353\n3703\n3987\n8158\n\n5969\n3824\n4696\n6948\n5098\n1364\n5943\n2489\n3523\n2585\n3242\n5724\n\n2113\n1381\n4067\n2344\n4778\n2645\n3968\n6599\n6451\n4462\n3882\n2312\n3843\n\n2948\n9364\n1281\n5411\n6477\n1119\n8986\n1218\n4448\n\n4938\n5597\n19725\n18053\n\n10621\n2556\n14794\n\n15944\n\n2490\n3883\n8604\n4310\n7188\n2634\n2126\n4386\n4007\n\n18117\n3564\n3723\n16013\n\n1729\n7521\n7155\n5464\n10189\n11378\n2892\n\n1919\n3726\n6573\n5328\n7056\n2626\n7135\n5337\n3952\n4568\n2493\n\n8540\n9992\n4330\n6118\n1028\n6987\n6841\n10336\n\n7166\n5976\n2075\n1938\n4219\n5535\n2927\n7792\n6763\n8069\n4214\n\n4726\n2359\n6414\n1727\n1987\n2112\n2093\n1071\n6170\n3010\n1891\n3025\n6416\n2534\n\n3818\n3761\n2326\n3260\n9384\n3033\n9065\n9128\n7062\n\n9666\n4769\n2548\n2907\n8618\n3484\n3962\n10736\n\n1496\n5465\n2062\n5094\n4678\n4135\n2419\n3851\n5853\n1230\n4807\n4323\n3978\n2932\n1398\n\n4046\n4017\n5785\n4317\n5874\n2880\n3889\n4548\n3184\n3736\n5525\n1244\n5151\n\n59604\n\n6245\n3810\n3601\n5107\n1130\n5397\n3908\n5786\n7065\n\n5957\n1971\n\n65880\n\n1195\n2467\n2681\n5646\n1369\n4188\n2319\n6356\n5519\n6535\n4368\n5542\n3013\n\n7724\n4856\n7693\n3723\n10718\n4944\n9471\n\n69102\n\n7561\n1144\n7132\n1051\n7124\n6166\n3965\n\n4108\n3486\n2171\n3884\n6322\n4794\n7097\n2907\n4538\n1603\n2786\n5061\n\n5564\n3164\n5398\n1859\n1207\n9374\n4975\n9037\n9603\n\n4570\n10797\n14210\n8624\n\n5511\n1351\n3529\n8490\n2362\n2252\n8908\n4353\n2878\n\n1083\n4451\n5884\n7413\n6905\n4155\n4305\n7601\n2054\n1251\n5509\n\n40729\n\n20688\n8455\n10468\n\n1374\n10889\n8751\n3095\n6061\n8209\n10286\n\n5587\n22294\n18064\n\n57291\n\n5883\n13276\n4902\n3441\n11757\n\n5741\n4622\n1694\n1405\n3925\n2385\n5057\n3622\n5847\n4269\n5832\n5054\n4519\n3870\n\n4647\n1867\n7897\n3384\n3663\n8740\n1930\n2687\n8175\n\n6060\n14296\n15930\n\n10623\n4760\n1532\n1959\n1430\n\n29630\n\n4456\n6843\n5338\n5422\n6122\n7464\n5023\n7344\n\n3528\n9171\n11019\n7072\n3648\n3852\n8586\n\n3508\n1384\n4146\n4978\n2119\n5363\n1017\n2651\n6336\n4525\n1116\n2196\n2199\n\n3052\n2026\n4975\n7092\n6609\n5956\n5176\n3198\n7527\n7267\n7406\n\n5041\n8034\n8288\n3213\n2460\n9129\n7780\n1084\n\n5052\n9286\n3529\n5980\n1388\n2654\n1480\n7399\n\n2802\n2868\n19533\n20096\n\n3879\n2938\n2717\n1423\n3863\n4516\n3903\n4274\n2774\n2079\n5709\n2909\n2188\n6054\n5298\n\n6781\n4829\n8850\n8731\n1401\n4401\n5448\n2356\n2969\n\n1723\n4194\n6029\n1330\n2547\n4981\n3501\n3125\n1530\n4650\n2377\n1268\n2097\n6486\n\n49278\n\n6264\n6407\n1850\n3918\n1741\n2194\n3474\n6587\n3442\n5321\n6038\n2305\n6503\n\n1082\n5358\n3613\n5720\n3008\n3660\n6045\n4323\n7433\n5023\n6447\n5817\n\n5854\n7555\n5433\n4345\n5302\n7689\n1330\n6917\n6863\n6696\n\n5737\n2769\n6760\n4761\n3711\n7699\n3698\n7727\n4267\n1154\n\n4383\n4214\n1513\n2792\n3496\n1332\n2740\n7249\n1555\n6305\n2790\n\n1429\n3006\n5278\n5780\n3037\n3221\n6405\n4281\n3935\n6627\n3330\n1367\n2183\n\n2141\n22468\n9206\n\n1547\n2946\n6113\n3465\n1206\n3086\n5122\n3789\n3125\n5713\n5978\n1266\n2429\n1261\n3957\n\n2407\n3597\n9855\n9830\n4827\n6245\n4082\n10501\n\n4709\n3463\n3268\n1432\n4508\n3814\n6020\n1054\n3652\n4151\n6189\n1758\n4079\n1286\n\n4219\n11621\n11315\n5162\n2106\n5317\n8577\n\n2924\n4263\n8298\n7889\n8779\n7463\n5078\n3106\n4854\n3479\n\n4773\n2109\n5230\n4159\n5044\n6346\n4727\n6450\n5486\n5918\n4303\n5628\n3195\n\n13208\n\n1259\n3867\n6425\n2480\n4013\n3771\n4489\n1829\n3594\n6280\n6213\n1725\n6265\n3430\n\n4195\n7715\n20947\n\n8495\n10638\n1446\n5279\n2580\n1407\n9964\n3960\n\n3841\n2838\n2259\n2190\n5446\n2261\n3724\n6595\n6273\n2137\n4344\n3703\n5458\n\n4268\n5924\n9640\n5253\n10814\n11160\n8199\n\n4179\n5425\n11417\n7572\n13604\n\n8692\n15323\n14207\n2909\n7076\n\n8420\n8836\n6367\n11145\n3686\n7162\n10446\n\n1922\n2476\n4880\n5324\n3240\n5930\n2373\n6114\n2737\n5315\n3657\n5234\n5326\n4444\n3280\n\n6402\n9360\n10714\n8033\n7912\n8313\n\n13905\n9965\n8927\n4835\n14581\n\n4661\n6016\n5709\n3679\n2869\n7515\n5681\n6567\n2086\n5064\n\n11351\n12095\n12808\n\n9842\n8550\n8562\n7697\n9630\n7082\n3513\n8112\n\n6348\n8109\n8370\n2784\n8580\n7375\n1972\n8635\n8244\n4431\n\n2583\n2782\n4531\n4600\n4112\n2795\n6085\n1616\n3051\n4373\n4660\n4924\n4357\n5346\n3692\n\n8704\n19646\n6683\n\n1326\n2594\n5155\n4116\n4986\n5361\n1829\n5394\n4062\n1503\n2437\n4250\n4927\n4345\n5002\n\n4033\n5578\n7105\n6410\n4626\n6104\n6092\n1594\n2939\n5196\n6085\n1855\n\n10974\n1508\n1769\n10071\n6253\n7462\n11771\n\n3467\n1795\n12191\n13593\n5454\n\n1989\n10394\n6048\n5893\n9321\n11997\n2320\n\n4639\n2398\n2365\n4485\n5566\n4046\n5791\n3112\n4573\n1614\n4570\n5038\n2502\n1566\n\n2716\n4779\n6041\n1002\n2686\n2756\n5562\n6227\n6071\n4766\n4863\n6098\n\n9164\n1056\n4080\n16371\n\n6342\n18445\n15991\n\n2826\n7207\n8171\n9776\n5964\n1615\n11184\n\n3324\n7165\n5530\n2871\n1760\n1429\n7113\n2171\n1029\n7441\n4057\n2370\n\n7335\n3914\n3980\n2002\n3137\n1636\n10641\n5000\n\n5106\n5767\n5340\n5542\n5209\n2410\n2248\n3048\n5148\n3092\n1686\n4274\n1688\n1969\n3620\n\n13378\n15409\n14557\n18378\n\n2085\n4009\n3663\n4058\n2320\n4323\n3683\n3579\n2183\n1256\n4471\n3633\n\n2985\n12411\n10954\n8642\n3065\n6544\n\n2715\n4839\n4770\n5618\n3458\n6182\n5118\n4038\n1953\n6387\n2155\n2647\n\n5132\n6862\n5783\n4770\n5793\n5926\n4610\n3528\n1772\n3237\n2716\n1207\n5477\n\n3722\n2333\n1838\n6337\n8044\n10192\n1457\n1772\n\n13998\n13869\n3152\n14169\n14289\n\n3974\n6117\n1539\n2446\n2097\n6228\n4232\n6300\n3925\n6906\n5192\n2463\n5606\n\n4616\n6663\n7411\n6817\n9687\n3526\n5347\n4215\n7980\n\n41654\n\n1196\n1949\n1063\n3771\n6047\n2445\n2602\n4069\n4755\n3079\n5295\n1517\n5925\n5221\n4504\n\n6687\n5898\n4175\n5260\n5332\n6038\n6559\n1295\n5499\n5685\n1121\n1760\n2354\n\n9253\n3790\n7810\n8060\n10709\n2616\n7895\n1690\n\n4071\n30519\n\n1812\n2676\n1113\n8120\n8811\n5130\n1932\n5693\n6558\n1801\n\n7805\n2829\n7273\n7637\n4422\n8344\n7011\n4805\n4459\n1019\n\n2826\n4477\n6427\n7330\n4514\n7178\n1152\n4521\n1389\n4515\n4280\n4754\n\n4570\n5161\n4590\n1940\n5084\n2016\n4261\n1364\n5819\n2776\n5630\n1288\n2864\n\n1485\n13016\n10668\n6130\n3888\n\n6823\n8658\n2810\n7793\n6147\n6984\n7356\n5543\n2024\n2661\n\n5678\n5456\n6531\n4786\n4207\n5582\n4086\n2953\n4722\n2291\n7254\n5395\n\n9515\n10600\n9238\n10661\n11661\n11439\n6982\n\n7352\n8791\n7946\n2645\n3077\n2472\n8540\n3899\n\n1213\n10474\n7930\n5316\n11096\n10787\n\n7751\n8218\n7879\n8170\n5336\n4773\n2971\n\n7557\n7474\n9296\n8558\n7641\n1068\n3347\n6756\n7617\n\n5566\n3789\n5784\n5881\n4738\n4895\n5831\n3817\n4629\n6010\n2793\n2218\n3865\n5528\n3665\n\n4320\n10546\n16280\n15648\n\n18779\n18602\n7520\n13356\n\n6565\n1954\n4598\n6625\n2463\n4273\n3043\n8790\n5762\n1503\n\n13009\n4498\n4393\n5336\n3138\n\n15543\n2341\n6304\n5639\n6256\n\n6331\n4454\n2345\n1124\n6006\n5813\n2886\n3073\n3293\n5063\n1354\n2393\n1716\n5859\n\n4042\n11448\n4722\n4065\n2564\n4680\n7137\n\n3041\n4125\n13893\n11770\n2732\n12694\n\n28615\n26674\n\n3977\n5632\n3242\n6609\n2500\n2217\n4261\n5931\n4534\n5477\n2006\n4116\n\n3313\n9570\n9939\n11281\n\n7451\n7347\n12397\n3187\n\n3831\n5409\n6612\n4038\n5429\n7220\n3213\n5834\n1043\n\n13216\n6789\n9845\n14985\n8636\n\n1946\n2753\n4663\n8403\n9734\n8544\n6543\n\n34337\n26042\n\n36556\n\n2547\n4825\n7135\n3044\n7208\n2944\n7833\n4862\n6173\n8071\n4761\n\n5873\n3682\n7244\n1730\n1772\n7769\n2918\n4218\n1023\n2455\n6080\n\n3570\n5980\n4490\n1981\n2436\n1112\n6550\n2961\n\n9143\n2994\n16445\n7019\n\n8694\n5668\n9695\n12470\n3378\n1507\n\n5635\n1416\n6259\n4973\n2380\n5967\n5318\n1458\n3716\n4120\n5052\n5109\n\n4340\n8037\n6849\n2338\n3244\n6606\n7927\n3730\n5845\n6104\n\n6308\n4794\n2554\n6888\n2421\n6111\n3138\n1378\n2900\n4605\n6238\n5406\n2247\n\n11418\n7701\n11495\n11885\n10029\n11641\n11332\n\n5508\n5347\n7547\n4952\n2723\n8328\n4798\n6021\n8483\n\n5055\n6257\n4018\n6346\n3311\n3627\n6342\n6584\n3424\n3992\n7528\n\n5342\n8694\n7019\n8284\n2334\n1171\n2779\n8541\n1702\n\n1749\n20019\n10614\n18044\n\n20394\n\n10207\n4933\n1638\n9497\n12225\n4544\n\n3368\n6864\n9065\n9185\n9227\n7255\n2637\n1060\n\n52998\n\n23595\n\n1170\n4926\n9829\n3766\n7174\n9097\n12032\n\n36364\n5780\n\n1625\n9224\n2238\n5754\n6376\n5034\n8479\n5567\n\n4619\n5442\n6888\n4575\n3045\n6504\n7238\n8719\n4287\n3369\n\n4910\n2276\n3373\n2427\n\n4744\n4440\n4882\n1654\n1383\n4050\n2655\n5017\n5017\n4406\n6165\n3485\n6644\n\n12298\n19934\n20799\n\n6035\n7465\n1320\n2841\n5323\n6593\n3844\n2566\n3581\n2277\n7000\n3446\n\n10100\n6221\n7154\n10715\n5403\n5817\n5493\n10765\n\n9840\n17836\n23719\n\n69997\n\n5868\n4308\n5646\n2780\n3380\n4430\n1866\n2576\n4112\n7519\n\n3016\n6396\n1049\n2504\n5407\n5096\n5774\n3075\n3882\n6391\n1265\n3090\n2011\n3854\n\n4805\n5343\n2348\n5703\n6845\n9201\n\n2257\n2191\n5766\n2367\n5266\n4557\n4775\n5002\n2852\n2762\n5583\n2346\n5498\n5229\n3284\n\n2600\n2550\n5165\n5058\n1024\n6091\n2110\n5217\n2214\n5005\n2508\n3289\n4065\n6085\n3940\n\n4881\n5936\n4255\n5793\n4214\n4542\n4409\n4953\n5407\n4425\n5316\n1327\n5725\n5034\n3402\n\n5093\n2531\n5251\n7342\n3235\n1383\n2164\n3121\n1979\n7601\n\n5867\n9293\n3015\n8686\n11529\n10826\n5501\n\n8326\n10945\n4822\n4701\n5311\n10242\n7515\n\n7078\n3981\n1848\n4816\n2583\n2110\n4625\n5009\n6140\n5201\n4130\n\n20665\n1178\n23165\n\n33789\n25174\n\n3801\n2592\n3001\n4180\n9212\n1027\n9317\n6684\n7877\n\n6636\n1386\n3450\n6574\n4763\n1887\n3690\n3244\n2140\n5516\n1689\n3070\n6309\n\n5778\n3825\n2954\n4036\n3178\n1517\n5303\n2880\n5378\n6008\n4958\n4113\n3747\n5410\n5939\n\n36915\n\n8201\n4720\n7448\n2232\n8264\n1116\n5885\n\n3694\n1735\n1887\n4584\n1623\n3816\n2410\n5185\n5460\n4713\n2138\n5037\n3677\n\n8046\n11638\n5355\n13513\n12550\n13192\n\n4306\n2133\n4641\n4964\n6134\n2952\n3821\n5786\n3487\n4899\n4864\n2327\n5445\n\n1973\n3574\n6476\n1079\n3646\n2793\n3977\n3001\n5621\n2019\n1672\n5380\n5697\n3515\n\n8390\n3681\n2195\n9077\n1089\n12868\n\n62103\n\n8787\n1646\n3958\n5096\n6812\n6145\n2429\n\n6643\n1496\n5878\n3337\n7204\n\n6255\n10369\n4881\n4935\n7007\n4768\n9885\n1814\n\n6913\n12459\n4547\n2402\n2865\n\n1949\n5860\n3815\n3056\n6115\n3908\n2710\n1829\n1578\n2009\n3563\n3932\n5331\n3646\n4126\n\n3501\n3328\n1715\n1473\n1160\n1747\n1684\n4764\n4452\n1783\n2620\n3930\n5486\n5243\n\n4432\n2616\n9355\n5382\n1429\n8084\n2964\n8552\n8865\n\n36073\n\n1105\n8022\n24991\n\n13418\n9148\n5812\n2972\n9812\n10902\n\n5410\n5806\n9323\n7922\n4277\n7621\n2253\n6668\n\n9702\n5504\n4030\n2157\n11223\n10259\n2402\n\n9556\n34592\n\n6526\n1994\n\n16897\n\n2689\n2831\n7780\n6615\n3969\n1464\n5460\n4424\n2175\n1885\n1685\n\n37834\n\n7453\n3193\n5091\n3141\n2922\n1241\n5245\n1501\n1512\n7675\n5692\n\n17587\n35323\n\n2648\n4990\n2970\n2305\n6237\n7660\n4916\n2616\n3972\n4909\n8065\n\n5371\n5794\n7604\n3364\n1694\n7020\n9315\n1820\n3968\n\n49341\n\n4162\n1462\n2689\n5095\n9156\n2742\n1658\n1309\n4020\n\n11687\n16684\n5447\n\n4845\n4163\n6133\n8180\n12086\n2243\n\n10812\n20831\n10266\n\n4483\n4639\n2488\n2726\n2648\n4743\n2504\n3434\n2712\n3162\n5216\n3527\n5253\n4209\n2490\n\n10741\n\n4587\n7550\n3473\n8369\n2352\n10693\n8240\n4686\n\n28089\n12007\n\n20237\n5117\n\n8327\n9836\n9731\n1072\n7756\n5369\n9698\n\n6278\n5004\n4430\n1886\n5311\n1739\n6286\n1430\n3231\n2418\n5417\n6422\n3206\n5088\n\n1272\n1919\n1895\n6589\n4355\n6502\n4267\n5637\n4307\n4477\n5225\n5227\n\n9966\n4409\n10449\n7412\n7075\n4594\n2119\n9726\n\n16916\n6721\n9944\n15432\n\n17592\n18004\n5225\n10016\n\n9213\n19610\n20162\n\n3918\n6797\n3787\n7041\n3630\n5849\n3430\n2203\n4366\n6376\n2992\n\n3082\n10765\n5785\n12703\n13868\n\n2201\n4102\n6221\n5830\n1028\n3113\n4494\n6513\n1377\n7266\n1681\n7344\n\n6257\n6737\n3007\n5806\n6944\n3859\n4179\n3941\n1326\n2612\n5409\n2487\n5770\n\n2226\n1299\n1175\n2495\n4616\n4634\n4813\n2513\n4087\n2923\n6696\n4685\n4534\n\n15449\n11718\n\n1555\n5733\n4221\n2184\n3542\n5589\n1625\n1967\n5404\n4791\n5652\n1699\n4204\n2262\n5576\n\n6748\n12465\n12449\n4204\n12854\n13248\n\n19689\n6415\n5903\n3186\n\n5453\n5106\n4496\n5847\n6612\n4040\n1680\n2593\n6368\n3120\n3529\n4363\n1230\n\n67021\n\n1065\n7500\n8384\n3594\n4812\n2121\n1678\n5464\n2908\n1094\n\n4501\n2791\n5861\n3318\n3082\n6421\n5518\n8761\n9142\n\n2390\n4112\n4584\n1655\n3641\n1485\n4486\n3442\n6506\n2663\n3253\n2123\n4825";

function getElvesCalories(input) {
  const elves = input.split("\n\n");
  const elvesCalories = [];
  for (const elf of elves) {
    const calories = elf.split("\n").map(str => parseInt(str));
    elvesCalories.push(calories);
  }
  return elvesCalories;
}

function getSumOfCaloriesByElves(elvesCalories) {
  return elvesCalories.map(calories => calories.reduce((c1, c2) => c1 + c2));
}

function findIndexOfMaxValueLessThan(array, lessThan = Infinity) {
  let maxValue = -Infinity;
  let maxIndex = -1;
  for (const [index, value] of array.entries()) {
    if (value <= maxValue || value >= lessThan) continue;
    maxValue = value;
    maxIndex = index;
  }
  return maxIndex;
}

const elvesCalories = getElvesCalories(input);
const elvesTotalCalories = getSumOfCaloriesByElves(elvesCalories);
const indexOfTheElfWithMaxCal = findIndexOfMaxValueLessThan(elvesTotalCalories);

// part 1
console.log(elvesTotalCalories[indexOfTheElfWithMaxCal]);

// part 2
const nbElvesWithMaxCalories = 3;
let lessThan = Infinity;
let sum = 0;
for (let i = 0; i < nbElvesWithMaxCalories; i++) {
  const indexOfTheElfWithMaxCal = findIndexOfMaxValueLessThan(elvesTotalCalories, lessThan);
  const calories = elvesTotalCalories[indexOfTheElfWithMaxCal];
  sum += calories;
  lessThan = calories;
}

console.log(sum);